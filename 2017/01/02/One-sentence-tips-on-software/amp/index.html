<!doctype html> <html ⚡> <head> <meta charset="utf-8"> <link href="https://chriszheng.science/2017/01/02/One-sentence-tips-on-software/" rel="canonical"> <title>我的一句话经验——软件篇 - M-x Chris-An-Emacser</title> <meta content="width=device-width,minimum-scale=1,initial-scale=1" name="viewport"> <meta content="我的一句话经验——软件篇" property="og:title"> <meta content="article" property="og:type"> <meta content="https://chriszheng.science/2017/01/02/One-sentence-tips-on-software/" property="og:url"> <meta content="https://chriszheng.science\img\Windows-restore-Bluetooth-icon.png" property="og:image"> <meta content="M-x Chris-An-Emacser" property="og:site_name"> <meta content="<p>之前零零散散写过一些经验分享的文章，不系统，对读者也不友好。现在整理到一块，随时更新，如果值得深入还可以单独写文章。主要针对自由/开源软件，也可能涉及科学软件、商业软件。</p>" property="og:description"> <meta content="summary_large_image" name="twitter:card"> <meta content="M-x Chris-An-Emacser" name="twitter:site"> <meta content="https://chriszheng.science/2017/01/02/One-sentence-tips-on-software/" name="twitter:url"> <meta content="我的一句话经验——软件篇 - M-x Chris-An-Emacser" name="twitter:title"> <meta content="<p>之前零零散散写过一些经验分享的文章，不系统，对读者也不友好。现在整理到一块，随时更新，如果值得深入还可以单独写文章。主要针对自由/开源软件，也可能涉及科学软件、商业软件。</p>" name="twitter:description"> <meta content="https://chriszheng.science\img\Windows-restore-Bluetooth-icon.png" name="twitter:image"> <style amp-boilerplate>body{-webkit-animation:-amp-start 8s steps(1,end) 0s 1 normal both;-moz-animation:-amp-start 8s steps(1,end) 0s 1 normal both;-ms-animation:-amp-start 8s steps(1,end) 0s 1 normal both;animation:-amp-start 8s steps(1,end) 0s 1 normal both}@-webkit-keyframes -amp-start{from{visibility:hidden}to{visibility:visible}}@-moz-keyframes -amp-start{from{visibility:hidden}to{visibility:visible}}@-ms-keyframes -amp-start{from{visibility:hidden}to{visibility:visible}}@-o-keyframes -amp-start{from{visibility:hidden}to{visibility:visible}}@keyframes -amp-start{from{visibility:hidden}to{visibility:visible}}</style> <noscript><style amp-boilerplate>body{-webkit-animation:none;-moz-animation:none;-ms-animation:none;animation:none}</style></noscript> <script async src="https://cdn.ampproject.org/v0/amp-sidebar-0.1.js" custom-element="amp-sidebar"></script> <script async src="https://cdn.ampproject.org/v0/amp-mathml-0.1.js" custom-element="amp-mathml"></script> <script async src="https://cdn.ampproject.org/v0/amp-analytics-0.1.js" custom-element="amp-analytics"></script> <script async src="https://cdn.ampproject.org/v0.js"></script> <script type="application/ld+json"> { "@context": "http://schema.org", "@type": "BlogPosting", "headline": "我的一句话经验——软件篇", "description": "&lt;p>之前零零散散写过一些经验分享的文章，不系统，对读者也不友好。现在整理到一块，随时更新，如果值得深入还可以单独写文章。主要针对自由/开源软件，也可能涉及科学软件、商业软件。&lt;/p>", "mainEntityOfPage":{ "@type":"WebPage", "@id":"https://chriszheng.science/2017/01/02/One-sentence-tips-on-software/" }, "datePublished": "2017-01-01T18:12:12.000Z", "dateModified": "2021-07-30T13:47:58.940Z", "image": { "@type": "ImageObject", "url": "https://chriszheng.science\img\Windows-restore-Bluetooth-icon.png", "width" : "863", "height" : "874" }, "author": { "@type": "Person", "name": "Chris" }, "publisher": { "@type": "Organization", "name": "M-x Chris-An-Emacser" , "logo": { "@type": "ImageObject", "url": "https://chriszheng.science\amp-dist\sample\logo.png", "width": 592, "height": 60 } } } </script> <link href="https://maxcdn.bootstrapcdn.com/font-awesome/4.7.0/css/font-awesome.min.css" rel="stylesheet"> <style amp-custom>abbr,acronym,address,applet,big,blockquote,body,caption,cite,code,dd,del,dfn,div,dl,dt,em,fieldset,form,h1,h2,h3,h4,h5,h6,html,iframe,img,ins,kbd,label,legend,li,object,ol,p,pre,q,s,samp,small,span,strike,strong,sub,sup,table,tbody,td,tfoot,th,thead,tr,tt,ul,var{border:0;font-family:inherit;font-size:1rem;font-style:inherit;font-weight:inherit;margin:0;outline:0;padding:0;vertical-align:baseline}abbr{cursor:help;border-bottom:1px dotted;font-variant:normal}acronym{border-bottom:1px dotted;font-variant:normal}body{-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;-webkit-text-size-adjust:100%;background:#fff;color:#2d3d40;font-family:sans-serif;font-size:1rem;font-weight:500;line-height:2rem;text-rendering:optimizelegibility}.post .entry-content figure.highlight th,button::-moz-focus-inner,figure.highlight td,input::-moz-focus-inner{border:0;padding:0}caption,table,td,th{vertical-align:middle}.table-align-left,caption,td,th{text-align:left}del{text-decoration:line-through}html{font-size:14px}:root sub,:root sup{vertical-align:baseline}table{border-collapse:separate;border-spacing:0}a{color:#e91e63;text-decoration:none;-webkit-transition:.7s;-ms-transition:.7s;-moz-transition:.7s;-o-transition:.7s;-webkit-transition:.7s;-moz-transition:.7s;-o-transition:.7s;-ms-transition:.7s;transition:.7s;border:0;font-family:inherit;font-size:1rem;font-style:inherit;font-weight:inherit;margin:0;outline:0;padding:0;vertical-align:baseline}a img{border:none}a:hover{-webkit-transition:.2s;-ms-transition:.2s;-moz-transition:.2s;-o-transition:.2s;-webkit-transition:.2s;-moz-transition:.2s;-o-transition:.2s;-ms-transition:.2s;transition:.2s;color:#930e3b}@media (min-width:481px){html{font-size:16px}}@media (min-width:0px) and (max-width:480px){html{font-size:14px}}.clearfix:after{clear:both;visibility:hidden;content:".";display:block;height:0}.left{float:left}.right{float:right}.circle{-webkit-border-radius:50%;border-radius:50%}.thumbImg-w{width:100px;height:100px;display:inline-block;position:relative;overflow:hidden}.thumbImg{top:50%;left:50%;position:absolute;-webkit-transform:translate(-50%,-50%);-ms-transform:translate(-50%,-50%);-webkit-transform:translate(-50%,-50%);-moz-transform:translate(-50%,-50%);-o-transform:translate(-50%,-50%);-ms-transform:translate(-50%,-50%);transform:translate(-50%,-50%)}.__web-inspector-hide-shortcut__{visibility:hidden}button{-webkit-box-align:start;-moz-box-align:start;-o-box-align:start;-ms-flex-align:start;-webkit-align-items:flex-start;align-items:flex-start;text-align:center;cursor:default;color:buttontext;background-color:buttonface;-webkit-box-sizing:border-box;-moz-box-sizing:border-box;box-sizing:border-box;padding:2px 6px 3px;border-width:2px;border-style:outset;border-color:buttonface;-webkit-border-image:initial;-moz-border-image:initial;-o-border-image:initial;border-image:initial;text-rendering:auto;color:initial;letter-spacing:normal;word-spacing:normal;text-transform:none;text-indent:0;text-shadow:none;display:inline-block;text-align:start;margin:0;font:11px system-ui;-webkit-writing-mode:horizontal-tb;-webkit-appearance:button}.hamburger{display:inline-block;background-color:transparent;background-image:url("data:image/svg+xmlutf8,<svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"-3 -6 24 24\"><path fill=\"#4A4A4A\" d=\"M0 12h18v-2H0v2M0 7h18V5H0v2M0 0v2h18V0H0\"/></svg>");background-repeat:no-repeat;-webkit-background-size:30px 24px;-moz-background-size:30px 24px;background-size:30px 24px;background-position:center center;border:none;margin:0;padding:0;width:60px;height:60px;cursor:pointer;-ms-flex-item-align:center;-ms-grid-row-align:center;-webkit-align-self:center;align-self:center;-ms-flex-item-align:center}.nav ul:after{clear:both;visibility:hidden}.nav,.nav-icon{position:relative}.nav ul{display:block}.nav ul li{display:block}.nav ul li a{display:block}.tab{position:relative;color:#424242;padding:6px;margin:0 4px;text-decoration:none;text-transform:uppercase;font-weight:400;-webkit-transition:.1s ease color;-webkit-transition:.1s ease color;-moz-transition:.1s ease color;-o-transition:.1s ease color;-ms-transition:.1s ease color;transition:.1s ease color}amp-sidebar{width:200px}amp-sidebar ul{padding:10px 0}amp-sidebar li a{display:block;padding:10px 20px}header{height:60px;background-color:#222f31;-webkit-box-shadow:0 -1px 0 #3c5155 inset,0 -3px 0 #1e292b inset;box-shadow:0 -1px 0 #3c5155 inset,0 -3px 0 #1e292b inset;-webkit-box-shadow:0 -1px 0 #3c5155 inset,0 -3px 0 #1e292b inset}header .header-title a{padding:0 0 0 20px;height:60px;line-height:60px;font-size:20px;color:#fff;letter-spacing:.2em}header .nav-container{display:-webkit-box;display:-ms-flexbox;display:-webkit-box;display:-moz-box;display:-webkit-flex;display:-ms-flexbox;display:box;display:flex;-webkit-box-pack:justify;-ms-flex-pack:justify;-webkit-box-pack:justify;-moz-box-pack:justify;-o-box-pack:justify;-ms-flex-pack:justify;-webkit-justify-content:space-between;justify-content:space-between}header .left-nav{display:-webkit-box;display:-ms-flexbox;display:-webkit-box;display:-moz-box;display:-webkit-flex;display:-ms-flexbox;display:box;display:flex;-webkit-box-align:center;-ms-flex-align:center;-webkit-box-align:center;-moz-box-align:center;-o-box-align:center;-ms-flex-align:center;-webkit-align-items:center;align-items:center;-webkit-box-pack:start;-ms-flex-pack:start;-webkit-box-pack:start;-moz-box-pack:start;-o-box-pack:start;-ms-flex-pack:start;-webkit-justify-content:flex-start;justify-content:flex-start;font-size:20px;margin-left:0;font-weight:300;-webkit-box-pack:start;-ms-flex-pack:start;-webkit-box-pack:start;-moz-box-pack:start;-o-box-pack:start;-ms-flex-pack:start;-webkit-justify-content:flex-start;justify-content:flex-start;-webkit-box-flex:1;-ms-flex:1 1 auto;-webkit-box-flex:1;-moz-box-flex:1;-o-box-flex:1;box-flex:1;-webkit-flex:1 1 auto;-ms-flex:1 1 auto;flex:1 1 auto;text-align:left;width:auto;font-size:15px}header .right{font-size:15px}header .alt{padding:0;text-align:right;display:-webkit-box;display:-ms-flexbox;display:-webkit-box;display:-moz-box;display:-webkit-flex;display:-ms-flexbox;display:box;display:flex;-webkit-box-align:stretch;-ms-flex-align:stretch;-webkit-box-align:stretch;-moz-box-align:stretch;-o-box-align:stretch;-ms-flex-align:stretch;-webkit-align-items:stretch;align-items:stretch;-webkit-box-pack:center;-ms-flex-pack:center;-webkit-box-pack:center;-moz-box-pack:center;-o-box-pack:center;-ms-flex-pack:center;-webkit-justify-content:center;justify-content:center}.blog-title a{position:relative}button{-webkit-box-align:start;-moz-box-align:start;-o-box-align:start;-ms-flex-align:start;-webkit-align-items:flex-start;align-items:flex-start;text-align:center;cursor:default;color:buttontext;background-color:buttonface;-webkit-box-sizing:border-box;-moz-box-sizing:border-box;box-sizing:border-box;padding:2px 6px 3px;border-width:2px;border-style:outset;border-color:buttonface;-webkit-border-image:initial;-moz-border-image:initial;-o-border-image:initial;border-image:initial;text-rendering:auto;color:initial;letter-spacing:normal;word-spacing:normal;text-transform:none;text-indent:0;text-shadow:none;display:inline-block;text-align:start;margin:0;font:11px system-ui;-webkit-writing-mode:horizontal-tb;-webkit-appearance:button}.__web-inspector-hide-shortcut__{visibility:hidden}.hamburger{display:inline-block;background-color:transparent;background-image:url("data:image/svg+xml;utf8,<svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"-3 -6 24 24\"><path fill=\"#FFF\" d=\"M0 12h18v-2H0v2M0 7h18V5H0v2M0 0v2h18V0H0\"/></svg>");background-repeat:no-repeat;-webkit-background-size:30px 24px;-moz-background-size:30px 24px;background-size:30px 24px;background-position:center center;border:none;margin:0;padding:0;width:60px;height:60px;cursor:pointer;-ms-flex-item-align:center;-ms-grid-row-align:center;-webkit-align-self:center;align-self:center;-ms-flex-item-align:center}.tab{position:relative;color:#2d3d40;padding:6px;margin:0 4px;text-decoration:none;text-transform:uppercase;font-weight:400;-webkit-transition:.1s ease color;-webkit-transition:.1s ease color;-moz-transition:.1s ease color;-o-transition:.1s ease color;-ms-transition:.1s ease color;transition:.1s ease color}amp-sidebar{width:250px;background-color:#182022}amp-sidebar ul{padding:10px 0}amp-sidebar li{border-top:1px solid #2f4043}amp-sidebar li:last-child{border-bottom:1px solid #2f4043}amp-sidebar li a{color:#fff;font-weight:700;display:block;padding:10px 20px}amp-sidebar li a:hover{color:#ccc;background-color:#030404}.categories-header{background-color:#2d3d40;padding:0 .8rem}.categories-header a{color:#fff}.categories-header a:hover{color:#fff}.categories-header .breadcrumb ol li{list-style:none;display:inline-block;margin:0}.categories-header .breadcrumb ol li span{font-size:.8rem;font-weight:700}.categories-header .breadcrumb ol li:after{content:"/";color:#fff;display:inline-block;margin:0 .4rem}.categories-header .breadcrumb ol li:last-child:after{content:"";margin:0}.entry-header{display:-webkit-box;display:-moz-box;display:-webkit-flex;display:-ms-flexbox;display:box;display:flex;-webkit-box-pack:center;-moz-box-pack:center;-o-box-pack:center;-ms-flex-pack:center;-webkit-justify-content:center;justify-content:center;-webkit-align-items:center;-webkit-box-align:center;-moz-box-align:center;-o-box-align:center;-ms-flex-align:center;-webkit-align-items:center;align-items:center}.entry-header .flx:first-child{margin:0 1rem 0 0}.header-cap{-webkit-flex-grow:3;-webkit-box-flex:3;-moz-box-flex:3;-o-box-flex:3;-ms-box-flex:3;box-flex:3;-webkit-flex-grow:3;flex-grow:3}.title-cover{background-color:#fff;color:#2d3d40;padding:1.5rem .8rem 0 .8rem}.title-cover a{font-size:1.2rem;color:#2d3d40;text-align:left;font-weight:700}.entry-title{margin:0}.entry-meta-header{font-size:.85rem;text-align:center}.entry-meta-header .date{font-family:sans-serif}h1 a,h2 a,h3 a,h4 a,h5 a,h6 a{color:#2d3d40;text-decoration:none}h1 a:hover,h2 a:hover,h3 a:hover,h4 a:hover,h5 a:hover,h6 a:hover{color:#e91e63}#container{margin-left:auto;margin-right:auto}#main{margin-bottom:3em;padding-left:0}.post{margin-bottom:3rem;position:relative}.entry-content{margin:0 .6rem;font-size:1rem}.entry-content h1{font-size:1.7rem;line-height:1.5;margin:1em 0 .8em}.entry-content h2,.entry-content h2 span,.entry-content h3,.entry-content h3 span,.entry-content h4,.entry-content h4 span,.entry-content h5,.entry-content h5 span,.entry-content h6,.entry-content h6 span{color:#98b8be;font-weight:700}.entry-content h2,.entry-content h2 span{font-size:1.8rem;line-height:2.6rem;text-align:center}.entry-content h2{border-bottom:2px solid #cce4e8;margin:4.5rem 0 .5em;padding:.8em 0}.entry-content h3,.entry-content h3 span{font-size:1.6rem;line-height:2.2rem;text-align:center}.entry-content h3{margin:3.6rem .8rem 3rem .8rem;padding:0}.entry-content h4,.entry-content h4 span{font-size:1.4rem;line-height:2rem;text-align:center}.entry-content h4{margin:3.6rem .8rem 3rem .8rem;padding:0}.entry-content h5,.entry-content h5 span{font-size:1.2rem;line-height:1.8rem;text-align:center}.entry-content h5{margin:3.6rem .8rem 3rem .8rem;padding:0}.entry-content h6,.entry-content h6 span{font-size:1.1rem;line-height:1.6rem;text-align:center}.entry-content h6{margin:3.6rem .8rem 3rem .8rem;padding:0}.entry-content p{font-size:1rem;letter-spacing:.05rem;line-height:2.2rem;margin:3rem .8rem}.entry-content p a{word-wrap:break-word;overflow-wrap:break-word;display:inline;border-bottom:1px dashed #f1729d;padding-bottom:.3rem}.entry-content p a:hover{border-bottom:1px dashed #9c0f3f;padding-bottom:.4rem}.entry-content em{background-color:#f9f5d1;color:#886d00;font-style:normal;margin:0 2px;padding:.4em}.entry-content strong{color:#871c1c;font-style:normal;margin:0 2px;padding:.4em;background-color:#fadcdc}.entry-content hr{border:0;border-top:3px solid #cce4e8;margin:3rem auto;width:20%}.entry-content img,.entry-content video{display:block;height:auto;margin:auto;max-width:100%}.entry-content iframe{width:100%}.entry-content blockquote{margin:3rem .8rem;padding:1rem 1.8rem;position:relative;background-color:none;border-left:3px solid #98b8be;font-style:italic}.entry-content blockquote p{margin:.5rem 0}.entry-content blockquote blockquote{border-left:none}.entry-content .table-wrapper{margin:3rem .8rem}.entry-content table{border-collapse:collapse;border-spacing:0;overflow:auto;display:block;font-size:.85rem;margin:0 auto;width:auto}.entry-content td,.entry-content th{line-height:1.8em;padding:.8rem .8rem;font-size:.85rem}.entry-content td a,.entry-content td em,.entry-content td strong,.entry-content th a,.entry-content th em,.entry-content th strong{font-size:.85rem}.entry-content td{border:1px solid #c4c4c4}.entry-content th{background-color:#ecf5f7;border:1px solid #c4c4c4}.entry-content .table-align-center{text-align:center}.entry-content .table-align-right{text-align:right}.entry-content dl,.entry-content ol,.entry-content ul{margin:3rem 0 3rem 1.6rem;padding:0;list-style:none;font-size:1rem}.entry-content dl li,.entry-content ol li,.entry-content ul li{line-height:2rem;position:relative;padding:0}.entry-content dl li p,.entry-content ol li p,.entry-content ul li p{line-height:2rem;margin:0}.entry-content dl li p:not(:first-child),.entry-content ol li p:not(:first-child),.entry-content ul li p:not(:first-child){color:#57767c;margin:.5rem}.entry-content dl li dl,.entry-content dl li ol,.entry-content dl li ul,.entry-content ol li dl,.entry-content ol li ol,.entry-content ol li ul,.entry-content ul li dl,.entry-content ul li ol,.entry-content ul li ul{margin:1rem}.entry-content ul li{margin:.4rem 0 .4rem .8rem}.entry-content ul li::after{position:absolute;display:block;content:'';top:.75rem;left:-1rem;width:.5rem;height:.5rem;background-color:#cce4e8;border-radius:100%}.entry-content ol{counter-reset:number}.entry-content ol li{margin:.4rem 0 .4rem 2rem}.entry-content ol li p:first-child{display:inline-block;line-height:1.6rem;height:1.6rem}.entry-content ol li:before{position:absolute;display:inline-block;float:left;margin:0 .2rem 0 0;padding:0;counter-increment:number;content:counter(number);left:-2.2rem;top:.2rem;background-color:#98b8be;width:1.6rem;height:1.6rem;border-radius:50%;color:#fff;text-align:center;font-weight:700;font-size:.8rem;line-height:1.6rem}kbd{font-family:sans-serif;text-align:center;display:inline-block;color:#425a5e;-moz-osx-font-smoothing:grayscale;-webkit-border-radius:3px;-webkit-box-shadow:0 0 10px #e8e8e8 inset,0 1px 0 #c3c3c3,0 2px 0 #c9c9c9,0 3px 3px #333;box-shadow:0 0 10px #e8e8e8 inset,0 1px 0 #c3c3c3,0 2px 0 #c9c9c9,0 3px 3px #333;-webkit-box-shadow:0 0 10px #e2e2e2 inset,0 1px 0 #c3c3c3,0 2px 0 #c9c9c9,0 3px 3px #333;-webkit-font-smoothing:subpixel-antialiased;background:#fff;border-left:1px solid #fff;border-radius:3px;border-right:1px solid #e6e6e6;border-top:1px solid #fff;font-size:.85rem;line-height:1rem;margin:5px;padding:6px 8px 3px;text-shadow:0 1px 0 #fff;vertical-align:baseline}img.responsive-img{height:auto;max-width:100%}video.responsive-video{height:auto;max-width:100%}.ad-footer,.amp-img-wrapper,.googleAdPost,.soundcloud-wrapper,amp-instagram,amp-twitter,amp-video,amp-vimeo,amp-youtube{margin:3rem .8rem}code,figure.highlight .code,pre{-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:subpixel-antialiased}code,pre,samp{font-family:Menlo,Consolas,Monaco,Consolas,monospace}p code{font-size:1rem}code,pre{font-size:.85rem;letter-spacing:.05rem;background-color:#ecf5f7;color:#007e96}code{margin:0 3px;padding:.4em}samp{font-size:.85rem;letter-spacing:.05rem}sub,sup{font-size:.75rem;line-height:0;position:relative}sub{bottom:-.2em}sup{top:-.5em}pre{font-size:1rem;letter-spacing:.05rem;margin:0 3px;padding:15px;-webkit-background-clip:padding;-moz-background-clip:padding;background-clip:padding-box;border:0;line-height:1.3rem;overflow-x:auto}pre .addition,pre .css .tag,pre .keyword,pre .method,pre .nginx .title,pre .request,pre .status,pre .winutils{color:#66d9ef}pre .attr_selector,pre .cdata,pre .clojure .title,pre .diff .change,pre .important{color:#9882eb}pre .preprocessor{color:#9882eb}pre .preprocessor .keyword{color:#9882eb}pre .shebang,pre .special,pre .subst{color:#9882eb}pre .symbol{color:#9882eb}pre .symbol .string{color:#9882eb}pre .attribute,pre .class .title,pre .constant,pre .haskell .type,pre .lisp .body,pre .parent,pre .smalltalk .number,pre .variable{color:#a6e22e}pre .built_in,pre .chunk,pre .decorator,pre .deletion,pre .id,pre .identifier,pre .literal,pre .localvars,pre .title,pre .vhdl{color:#f92672}pre .command,pre .hexcolor,pre .number,pre .phpdoc,pre .regexp,pre .string,pre .tag .value,pre .tex .formula{color:#e6db74}pre .comment,pre .diff .header,pre .doctype,pre .javadoc,pre .lisp .string,pre .pi,pre .template_comment{color:#75715e;font-weight:400}.line{font-size:.85rem;letter-spacing:.05rem;line-height:2rem;color:#f8f8f2}.line span{font-size:.85rem;letter-spacing:.05rem}.gist{background:#fff;border:1px solid color-gutter;color:#f8f8f2;line-height:1.6rem;margin-top:15px;overflow:auto;padding:7px 15px}.gist .gist-file{border:none;font-family:inherit;font-size:1rem;letter-spacing:0;margin:0}.gist .gist-file .gist-data{background:0 0;border-bottom:none}.gist .gist-file .gist-data pre{font-family:Menlo,Consolas,Monaco,Consolas,monospace;padding:0}.gist .gist-file .gist-meta{background:0 0;color:#f8f8f2;font-size:1rem;margin-top:5px;padding:0}.gist .gist-file .gist-meta a{color:#f8f8f2}.gist .gist-file .gist-meta a:visited{color:#f8f8f2}figure.highlight{font-size:.95rem;margin:3rem .8rem;background:#263338;border:1px solid color-gutter;line-height:2rem;overflow:auto;position:relative}figure.highlight .code{padding:0 1em 1em 1em;color:#f8f8f2}figure.highlight .gutter{display:none}figure.highlight figcaption{font-size:1rem;font-weight:700;color:#e9e9d6;background-color:#1e282c;padding:.6em 1em}figure.highlight figcaption a{position:absolute;right:1rem}figure.highlight figcaption:before{content:"\f121";font-family:fontawesome;text-align:center;display:inline-block;margin-right:.6em}figure.highlight pre{background:0 0;border:none;margin:0;padding:.5rem}figure.highlight table{border-spacing:0;margin:0}figure.highlight th{border:0;font-weight:400;padding:0}figure.highlight td{border:0;font-size:1.1rem;padding:0}.entry-content .toc{background:#fff;padding:.5rem;margin:3rem 0;border:1px solid #cce4e8;border-radius:2px}.entry-content .toc ul{margin-bottom:0;padding:0;margin:0;border-top:1px solid #5d8b93;border-radius:2px}.entry-content .toc ul:first-child{border-top:none}.entry-content .toc ul ol,.entry-content .toc ul ul{margin-bottom:0;padding:0;margin:0}.entry-content .toc ul li{padding:0;margin:0;border-top:1px solid #5d8b93}.entry-content .toc ul li:first-child{border-top:none}.entry-content .toc ul li::after,.entry-content .toc ul li::before{content:normal}.entry-content .toc ul li a{font-size:1.2rem;font-weight:700;display:block;padding:1rem;background-color:#3d5b61;color:#fff;-webkit-transition:.3s;-ms-transition:.3s;-moz-transition:.3s;-o-transition:.3s;-webkit-transition:.3s;-moz-transition:.3s;-o-transition:.3s;-ms-transition:.3s;transition:.3s}.entry-content .toc ul li a:hover{color:#fff;background-color:#2c4145}.entry-content .toc ul li a:before{content:"\f02d";font-family:fontawesome;display:inline-block;padding:0;margin:0;margin-right:.8rem}.entry-content .toc ul li ol,.entry-content .toc ul li ul{margin-bottom:0;padding:0;margin:0}.entry-content .toc ul li ol li a,.entry-content .toc ul li ul li a{padding:.5rem .75rem .5rem 2rem;font-size:.9rem;background-color:#416167}.entry-content .toc ul li ol li a:before,.entry-content .toc ul li ul li a:before{content:"\f0da";font-family:fontawesome;display:inline-block;padding:0;margin:0;margin-right:.6rem}.entry-content .toc ul li ol li ul li a,.entry-content .toc ul li ul li ul li a{padding:.5rem .75rem .5rem 4rem}.entry-content .toc ul li ol li ul li a:before,.entry-content .toc ul li ul li ul li a:before{content:none}.meta-content{background-color:#fff;margin:1.5rem .8rem;padding:0;border-top:1px dotted #cce4e8;letter-spacing:.05rem}.meta-wrapper{margin:3rem .8rem;padding:0;background-color:#fff}h6.categories,h6.tag{color:#2d3d40;font-size:.9rem;font-weight:700}.article-tag-list{padding:0}.article-categories,.article-categories-list,.article-tag,.article-tag-list{padding:0;margin:0}.article-categories{margin-bottom:1.6em}.article-categories-list li,.article-tag-list li{list-style:none;display:inline-block;padding:0;margin:.2rem .1rem}.article-categories-list li a,.article-tag-list li a{font-size:.8rem;font-weight:700;padding:.4rem .8rem;margin:0;background-color:#ecf5f7;color:#2d3d40;border-radius:2px;display:block}.article-categories-list li a:before,.article-tag-list li a:before{content:"#"}.article-categories-list li a:hover,.article-tag-list li a:hover{color:#fff;background-color:#2d3d40}.widget{margin:1.5rem .8rem;padding:0}.widget-h{text-align:center;margin:1.6rem 0}.widget-h h6{color:#fff;background-color:#2d3d40;display:inline-block;padding:.4rem 1rem;font-size:.9rem;font-weight:700}.posts-list li{list-style:none;margin:.8rem 0;display:-webkit-box;display:-moz-box;display:-webkit-flex;display:-ms-flexbox;display:box;display:flex;-webkit-box-pack:center;-moz-box-pack:center;-o-box-pack:center;-ms-flex-pack:center;-webkit-justify-content:center;justify-content:center;-webkit-align-items:center;-webkit-box-align:center;-moz-box-align:center;-o-box-align:center;-ms-flex-align:center;-webkit-align-items:center;align-items:center}.posts-list li .posts-list-link{-webkit-flex-grow:3;-webkit-box-flex:3;-moz-box-flex:3;-o-box-flex:3;-ms-box-flex:3;box-flex:3;-webkit-flex-grow:3;flex-grow:3}.posts-list li .posts-list-link a{color:#2d3d40;font-size:1.1rem;font-weight:700}.posts-list li .posts-list-link a:hover{color:#e91e63}.posts-list li .posts-list-meta{font-size:.7rem}.posts-list li .flx:first-child{margin:0 1rem 0 0}.posts-list li amp-img{border-radius:2px}#footer{background-color:#2d3d40;color:#fff;display:block;font-size:1rem;letter-spacing:.05rem;line-height:2rem;margin:3rem 0 0 0;padding:0}.site-author-info{margin:0;padding:3rem 1.6rem}.site-author-info h6{font-size:1rem;color:#fff;font-weight:700;display:inline-block;background-color:#222f31;padding:.4rem .8rem}.site-author-info-wrapper{display:-webkit-box;display:-moz-box;display:-webkit-flex;display:-ms-flexbox;display:box;display:flex;-webkit-box-pack:center;-moz-box-pack:center;-o-box-pack:center;-ms-flex-pack:center;-webkit-justify-content:center;justify-content:center;-webkit-align-items:center;-webkit-box-align:center;-moz-box-align:center;-o-box-align:center;-ms-flex-align:center;-webkit-align-items:center;align-items:center}.site-author-info-wrapper .flx:first-child{margin:0 1rem 0 0}.authorCap-wrapper{-webkit-flex-grow:3;-webkit-box-flex:3;-moz-box-flex:3;-o-box-flex:3;-ms-box-flex:3;box-flex:3;-webkit-flex-grow:3;flex-grow:3}.authorCap{font-size:1.4rem;font-weight:700}.authorReading{font-size:.7rem}.site-author-desc{font-size:.8rem;line-height:1.6rem;margin:1.4rem 0}.copyright-tool{margin:0;padding:1.5rem 1.6rem;border-top:1px solid #384b4f}.copyright-notice p{font-size:.6rem;letter-spacing:.05rem;line-height:1.2rem;color:#8ba8ae}.copyright-title{font-size:1rem;text-align:center;margin:.8rem 0 .4rem 0}.copyright-license{margin:.4rem 0 .8rem 0;font-size:.7rem;text-align:center}.copyright-license a{color:#e6e6e6;font-size:.7rem}.copyright-license a:hover{color:#b3b3b3}.sns-link{margin:0;text-align:center}.sns-link a{display:inline-block;font-size:1.6rem;text-align:center;width:2rem;height:2rem;line-height:2rem;padding:.6rem;margin:0 .1rem;background-color:#222f31;color:#fff;border-radius:4px}.sns-link a:hover{color:#ccc;background-color:#030404}.footer-menu{padding:1.5rem .8rem;border-top:1px solid #384b4f}.footer-menu ul li{list-style:none;margin:0;padding:0}.footer-menu ul li a{display:block;padding:.6rem;margin:.2rem 1.6rem;font-size:1rem;color:#fff;background-color:#222f31;border-radius:4px;text-align:center;font-weight:700}.footer-menu ul li a:hover{color:#ccc;background-color:#030404}.social-share{margin:1.5rem .8rem;display:-webkit-box;display:-moz-box;display:-webkit-flex;display:-ms-flexbox;display:box;display:flex;-webkit-box-pack:center;-moz-box-pack:center;-o-box-pack:center;-ms-flex-pack:center;-webkit-justify-content:center;justify-content:center}.social-share .sbtn,.social-share amp-social-share{margin:5px}.sbtn{padding:0;width:4rem;height:3rem;line-height:3rem;color:#fff;font-size:1.2rem;text-align:center;border-radius:4px}.sbtn:hover{color:#fff}.tw{background-color:#1cafe8}.tw:hover{background-color:#0f6b8f}.fb{background-color:#4f677f}.fb:hover{background-color:#283440}.ht{background-color:#35acda}.ht:hover{background-color:#1a6e8f}.gp{background-color:#d56153}.gp:hover{background-color:#9c3326}.tb{background-color:#465f79}.tb:hover{background-color:#212c38}.icon-hatena:before{content:"B";font-weight:700;font-size:1.2rem}#totop{position:fixed;bottom:2rem;right:1.6rem;font-size:1.2rem;z-index:995}#totop a{background:rgba(152,184,190,.6);text-decoration:none;color:#fff;padding:.8rem;border-radius:50%}#totop a:before{content:"\f062";font-family:fontawesome;font-size:1.2rem}#totop a:hover{text-decoration:none;background:#5d8b93;color:#fff;line-height:2.3em}@media (min-width:800px){.categories,.entry-content,.meta-content,.site-author-info,.title-cover{width:780px;margin:0 auto}.nav-container{width:800px;margin:0 auto}}@media (min-width:0px) and (max-width:480px){.site-author-info-wrapper{display:block}.gravatar-area{text-align:center}.gravatar-area amp-img{display:inline-block}.entry-content td,.entry-content th{line-height:1.8em;padding:.6rem .6rem;font-size:.5rem}.entry-content td a,.entry-content td em,.entry-content td strong,.entry-content th a,.entry-content th em,.entry-content th strong{font-size:.5rem}}#hexo-amp-id-1{font-size:larger}#hexo-amp-id-2{font-family:URW Gothic}#hexo-amp-id-3{color:red}#hexo-amp-id-4{color:#79bd9a}</style> </head> <body> <amp-analytics id="google-analytics" type="googleanalytics"> <script type="application/json"> { "vars": { "account": "UA-96553077-1" }, "triggers": { "trackPageview": { "on": "visible", "request": "pageview" } } } </script> </amp-analytics> <header> <div class="nav-container"> <div class="left-nav"> <div class="header-title"> <a href="/">M-x Chris-An-Emacser</a> </div> </div> </div> </header> <div id="container"> <div id="main"> <article class="post" id="post-One-sentence-tips-on-software"> <div class="categories-header"> <div class="categories"> <div class="breadcrumb inline-icon"> <ol itemscope itemtype="http://schema.org/BreadcrumbList"> <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem"> <a href="/" itemprop="item"> <span class="sns-icon home-icon"></span> <span itemprop="name"><span class="fa fa-fw fa-home"></span></span> </a> <meta content="1" itemprop="position"> </li> <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem"> <a href="/categories/一句话经验/" itemprop="item"> <span class="sns-icon folder-icon"></span> <span itemprop="name">一句话经验</span> </a> <meta content="2" itemprop="position"> </li> </ol> </div> </div> </div> <div class="title-cover"> <div class="entry-header"> <div class="flx header-thumb"> <div class="circle thumbImg-w"> <amp-img height="101" layout="fixed" src="https://chriszheng.science\img\Windows-restore-Bluetooth-icon.png" width="100" class="thumbImg"> </amp-img> </div> </div> <div class="flx header-cap"> <h1 class="article-title entry-title" itemprop="name"> <a href="https://chriszheng.science/2017/01/02/One-sentence-tips-on-software/" itemprop="url" target="_blank">我的一句话经验——软件篇</a> </h1> </div> </div> <div class="entry-meta-header"> <span class="date meta-elements"> <span class="fa fa-fw fa-clock-o"></span> <time datetime="2017-01-02" itemprop="datePublished">2017.01.01</time> </span> </div> </div> <div class="ecp entry-content"> <p>之前零零散散写过一些经验分享的文章，不系统，对读者也不友好。现在整理到一块，随时更新，如果值得深入还可以单独写文章。主要针对自由/开源软件，也可能涉及科学软件、商业软件。</p> <a id="more"></a> <p><strong>目标</strong>：今年整理50条在中文圈里稀罕的小技巧。</p> <p>2017-12-20 <strong>Update</strong>: 跌跌撞撞，我写完了50条经验。</p> <p>2018-01-03 <strong>Update</strong>: 进行了归类，想办法转载看能不能收获更多访问。</p> <p>一句话系列的另外两篇：<a href="/2017/04/02/One-sentence-tips-on-Emacs-Lisp/">我的一句话经验——Emacs Lisp篇</a>、<a href="/2017/04/14/One-sentence-cold-knowledge/">一句话系列——冷知识篇</a>。</p> <h2 id="nix世界命令行使用技巧">*NIX世界命令行使用技巧</h2> <p id="hexo-amp-id-1">主要是使用和写脚本的经验，带例子。</p> <ol> <li> <p>Grep可以用<code>--include="*.md"</code>指定搜索的文件类型，比如<code>grep Chris -r . --include="*.md"</code>，在当前目录递归的检索<code>*.md</code>文件中的“Chris”。</p> </li> <li> <p>7-Zip的<code>-r</code>会递归的在目录里搜索指定的路径，而不是我们期望的在<strong>指定目录中递归</strong>，所以不要用。<a href="/2015/03/01/7zip-compresses-folder/">详解</a>。</p> </li> <li> <p>多进程使用下载工具wget的方法：<code>cat /tmp/url.txt | xargs -n 1 -P 8 wget -c;</code>，<code>url.txt</code>里一行一个地址，<code>-P 8</code>表示最多同时运行8个进程，相比加<code>&</code>后台运行的方法可以指定进程数。更好的方法是用<code>parallel</code>，例子见下面。</p> </li> <li> <p>*NIX世界的cut命令很好用，有时候比正则好用，而且可以写一些比较“dirty”的代码。</p> </li> <li> <p>Bash中如果要实现某条指令成功后再并行运行几条命令，可以这样写：<code>echo && { sleep 12 & sleep 12 & }; wait; echo && { sleep 12 & sleep 12 &};</code>。</p> </li> <li> <p><code>grep -o</code>可以只显示匹配的部分。</p> </li> <li> <p>将URL保存到文件后用wget的<code>-i</code>参数批量下载，比如<code>wget -i ./list.txt</code>。</p> </li> <li> <p>Linux里有一个<code>/usr/bin/timeout</code>命令可以让程序超时退出，用法是<code>/usr/bin/timeout 1m ts</code>，就是执行1分钟后就kill掉，在写cron命令时很方便。如果没有这个命令，对于Debian系列的系统可以安装名为<code>timeout</code>的包。<a href="https://serverfault.com/questions/539665/setting-timeout-for-cron-jobs">来源</a>。</p> </li> <li> <p>用<code>date +%j</code>可以告诉你今天是一年中的第多少天，对于算天数非常有用。<a href="https://linux.die.net/man/1/date">date的手册</a>。</p> </li> <li> <p>写Bash脚本的好参考：<br> <a href="https://github.com/progrium/bashstyle">progrium/bashstyle</a> <br> 以及一个小教程 <br> <a href="https://zwischenzugs.com/2018/01/06/ten-things-i-wish-id-known-about-bash/">Ten Things I Wish I’d Known About bash</a> <br> 我觉得最有用也最不容易记住的是<a href="https://www.tldp.org/LDP/abs/html/parameter-substitution.html">变量替换</a></p> </li> <li> <p>上面的第二个链接告诉我们单引号<code>''</code>不会做替换，而双引号<code>""</code>会替换。我们一般写<code>sed</code>和<code>awk</code>命令都用单引号，就是不希望我们的代码被替换，可有时候我恰恰需要替换，这时候换用双引号就好了，请看示例代码</p> </li> </ol> <figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre><td class="code"><pre><span class="line">Etdl=$(grep <span class="string">"FINAL SINGLE POINT ENERGY"</span> /data/qm/B97-3c/a.out | tail -n1 | awk <span class="string">'{print $(NF)}'</span>)</span><br><span class="line">sed <span class="string">"s/^\([^ ]*\)/\1\t<span class="variable">#123;Etdl}</span>/"</span> /tmp/a</span><br></pre></table></figure> <p>演示了如何把内容附加到每行后面。</p> <ol start="12"> <li> <p>从第三行输出文件内容可以用awk实现：<code>awk 'NR>=3' "aaa.xyz"</code>。</p> </li> <li> <p><a href="https://www.gnu.org/software/parallel/">GNU Parallel</a>并行执行命令很方便，一些实例</p> </li> </ol> <figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre><td class="code"><pre><span class="line">parallel <span class="built_in">echo</span> {} + 1 is {= <span class="string">'$_++'</span> =} ::: {1..10}</span><br><span class="line">time parallel -N0 -j4 sleep 1 ::: {1..10}</span><br><span class="line">ls | parallel <span class="string">'cd {}; grep Chris *.out'</span></span><br></pre></table></figure> <p>注意，parallel会把你的输入放到命令行里，所以上面的命令如果不加<code>-N0</code>会睡很长时间。另外parallel在Android的termux环境中需设置环境变量<code>PARALLEL_SHELL</code>。</p> <ol start="14"> <li>Linux的字符终端(TTY)可以旋转，方法是</li> </ol> <figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre><td class="code"><pre><span class="line"><span class="built_in">echo</span> 1 | sudo tee /sys/class/graphics/fbcon/rotate_all</span><br></pre></table></figure> <p>注意下面这种写法不行。</p> <figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre><td class="code"><pre><span class="line">sudo <span class="built_in">echo</span> 1 > /sys/class/graphics/fbcon/rotate_all</span><br></pre></table></figure> <ol start="15"> <li> <p>Bash里<code>&lt;()</code>的含义是：括号内的代码的输出被重定向到一个文件<code>/dev/fd/63</code>。执行<code>cat &lt;(ls)</code>就得到了<code>ls</code>的输出，执行<code>echo &lt;(ls)</code>得到了文件名。这个<code>/dev/fd/63</code>是一个命名管道(named pipe)，一切皆文件嘛，就当一个文件使。<a href="https://stackoverflow.com/questions/2443085/what-does-cmd-args-mean-in-the-shell">参考</a>。</p> </li> <li> <p>对于v1.06以上版本的<a href="https://www.gnu.org/software/bc/">GNU bc</a>，设置<code>BC_LINE_LENGTH</code>可以控制自动断行的特性，例子</p> </li> </ol> <figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre><td class="code"><pre><span class="line">BC_LINE_LENGTH=0 bc -l &lt;&lt;&lt; <span class="string">"scale = 100; a(1) * 4"</span></span><br></pre></table></figure> <ol start="17"> <li>上一条技巧里的<code>&lt;&lt;&lt;</code>是“Here Strings”，Bash等shell才有，sh里没有，<code>bc -l &lt;&lt;&lt; "scale = 100; a(1) * 4"</code>等价于<code>echo "scale = 100; a(1) * 4" | bc -l</code>，但前者速度快很多。<a href="https://unix.stackexchange.com/questions/76402/command-line-instead-of">参考</a>。测速代码</li> </ol> <figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre><td class="code"><pre><span class="line">time <span class="keyword">for</span> i <span class="keyword">in</span> {1..10000}; <span class="keyword">do</span> <span class="built_in">echo</span> <span class="string">""</span> | : ; <span class="keyword">done</span> <span class="comment"># 84s</span></span><br><span class="line">time <span class="keyword">for</span> i <span class="keyword">in</span> {1..10000}; <span class="keyword">do</span> : &lt;&lt;&lt; <span class="string">""</span>; <span class="keyword">done</span> <span class="comment"># 5s</span></span><br></pre></table></figure> <ol start="18"> <li> <p><code>echo</code>不读sdtio，所以<code>echo &lt;&lt;&lt; <amp-mathml data-formula="\['Hello\nWorld'</code>没输出，这时候应该用<code>cat <<< \]" inline="" layout="container"></amp-mathml>'Hello\nWorld'</code>。</p> </li> <li> <p>除了<code>nohup</code>，<code>setsid</code>也可以在不受登出影响在后台运行程序。<a href="http://www.ibm.com/developerworks/cn/linux/l-cn-nohup/index.html">参考</a>。</p> </li> <li> <p>批量后缀名修改：<code>find . -name "*.txt" -exec rename .txt .md {} \;</code>，把所有的<code>*.txt</code>替换为<code>*.md</code>，包括子目录的文件。注意这里用到了<code>rename</code>命令，来自<code>util-linux</code>包。</p> </li> <li> <p><code>sort</code>命令其实非常强大，比如对一个「表格」进行排序：</p> </li> </ol> <figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre><td class="code"><pre><span class="line">$ cat a.txt</span><br><span class="line">张三    96</span><br><span class="line">李四    60</span><br><span class="line">王二    100</span><br><span class="line"></span><br><span class="line">$ sort -k2 -n a.txt</span><br><span class="line">李四    60</span><br><span class="line">张三    96</span><br><span class="line">王二    100</span><br></pre></table></figure> <p>这里是根据第二列的值对行进行排序。我以前只知道<code>sort</code>可以行排序，现在会根据指定的列排序，用Excel的理由又少了一个。</p> <ol start="22"> <li>接上面一条，<a href="https://www.gnu.org/software/coreutils/coreutils.html">Coreutils</a>里的join可以连接表格，比如</li> </ol> <figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br></pre><td class="code"><pre><span class="line">$ cat a.txt</span><br><span class="line">姓名	成绩1</span><br><span class="line">张三	90</span><br><span class="line">李四	80</span><br><span class="line">王二	100</span><br><span class="line"></span><br><span class="line">$ (head -n 1 a.txt && tail -n +2 a.txt | sort) > a.txt.sorted</span><br><span class="line">$ cat a.txt.sorted</span><br><span class="line">姓名	成绩1</span><br><span class="line">李四	80</span><br><span class="line">王二	100</span><br><span class="line">张三	90</span><br><span class="line"></span><br><span class="line">$ cat b.txt</span><br><span class="line">姓名	成绩2</span><br><span class="line">张三	92</span><br><span class="line">李四	90</span><br><span class="line">王二	90</span><br><span class="line"></span><br><span class="line">$ (head -n 1 b.txt && tail -n +2 b.txt | sort) > b.txt.sorted</span><br><span class="line">$ cat b.txt.sorted</span><br><span class="line">姓名	成绩2</span><br><span class="line">李四	90</span><br><span class="line">王二	90</span><br><span class="line">张三	92</span><br><span class="line"></span><br><span class="line">$ join a.txt.sorted b.txt.sorted > c</span><br><span class="line">$ cat c</span><br><span class="line">姓名 成绩1 成绩2</span><br><span class="line">李四 80 90</span><br><span class="line">王二 100 90</span><br><span class="line">张三 90 92</span><br></pre></table></figure> <p>上面的代码还演示了如何在排序的时候保留第一行。更多的解释请看<a href="https://www.gnu.org/software/coreutils/manual/html_node/join-invocation.html">join的手册</a>。</p> <ol start="23"> <li>可以用awk进行「转置」，把列变成行，方法是设置<code>ORS</code>，控制的是输出的间隔符，设为空格就把列连接起来了。比如用上面的数据，对第一列进行转置，借助Emacs的<code>M-|</code>，代码是：</li> </ol> <figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre><td class="code"><pre><span class="line">awk 'BEGIN{ORS=" "} {print $1}'</span><br></pre></table></figure> <ol start="24"> <li>比如我有一列姓名，我想知道每个人出现的次数，怎么办呢？实例输入文件如下：</li> </ol> <figure class="highlight text"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre><td class="code"><pre><span class="line">李四</span><br><span class="line">王二</span><br><span class="line">张三</span><br><span class="line">李四</span><br><span class="line">李四</span><br></pre></table></figure> <p>可以借助sort和uniq再加上awk很方便的进行处理：`sort | uniq -c | sort -k1 | awk ‘{print <amp-mathml data-formula="\[2 “\t” \]" inline="" layout="container"></amp-mathml>1}’，结果如下：</p> <figure class="highlight text"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre><td class="code"><pre><span class="line">王二	1</span><br><span class="line">张三	1</span><br><span class="line">李四	3</span><br></pre></table></figure> <ol start="25"> <li>如何只复制指定的文件并且保留文件夹结构：</li> </ol> <figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre><td class="code"><pre><span class="line">rsync -rv E5internet:/tmp/screening/ /tmp/ --include=<span class="string">"*/"</span> --include=<span class="string">"a.xyz"</span> --exclude=<span class="string">"*"</span></span><br></pre></table></figure> <ol start="26"> <li> <p><a href="https://stackoverflow.com/questions/4325216/remove-all-files-except-some-from-a-directory">保留一些文件，删除其他所有文件</a>：<code>find . -type f -not -name 'a.xyz' -delete</code>。</p> </li> <li> <p>批量生成MD5校验的方法：<code>find /data/ -type f -exec md5sum {} \; > /tmp/list.txt</code>。<a href="https://askubuntu.com/questions/486082/hash-value-on-directory">来源</a>。</p> </li> <li> <p>找大文件并且显示文件大小：<code>find . -size +100M -exec du -h {} \; | sort -k1hr</code>。</p> </li> <li> <p><code>awk '/^>./ {printf("\n%s\n", <amp-mathml data-formula='\[1)} ! /^>./ {printf("%s", \]' inline="" layout="container"></amp-mathml>1)}' unigene.fasta > unigene.fasta.nonewline</code>。</p> </li> <li> <p>对目录按大小排序：<code>du -h -d 1 | sort -k1hr</code>。</p> </li> <li> <p>Arch Linux滚动更新后，强制装载新的USB驱动，不拔优盘直接起效。当然最简单的方法是重启。<a href="https://askubuntu.com/questions/645/how-do-you-reset-a-usb-device-from-the-command-line">来源</a>。</p> </li> </ol> <figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre><td class="code"><pre><span class="line">sudo modprobe -r usb-storage</span><br><span class="line">sudo modprobe -S 5.0.5-arch1-1-ARCH -f usb-storage</span><br><span class="line">sudo sh -c <span class="string">"echo 0 > /sys/bus/usb/devices/2-14/authorized"</span></span><br><span class="line">sudo sh -c <span class="string">"echo 1 > /sys/bus/usb/devices/2-14/authorized"</span></span><br></pre></table></figure> <ol start="32"> <li> <p>成对替换可以用Coreutils里的<code>tr</code>，比如<code>tr 'abcd' 'jkmn'</code>，缺点是不支持UTF-8，遇到中文就完蛋。这个需求可以用<code>sed</code>实现，比如<code>sed 'y/“”/「」/'</code>。<a href="https://unix.stackexchange.com/questions/392035/can-i-use-sed-to-translate-characters-like-with-tr/392036">来源</a>。</p> </li> <li> <p>显示文件某一行：<code>sed -n 233p a.txt</code>，注意要加<code>p</code>。如果要批量可以结合<a href="https://www.gnu.org/software/parallel/">GNU Parallel</a>，比如</p> </li> </ol> <figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre><td class="code"><pre><span class="line">parallel <span class="string">'sed -n {}p a.txt'</span> ::: 2 3 4</span><br></pre></table></figure> <ol start="34"> <li>创建指定格式的目录：<code>echo {37..38}- | xargs mkdir -p</code>。</li> </ol> <h2 id="自由-开源软件使用经验">自由/开源软件使用经验</h2> <ol> <li> <p>对于大规模的搜索，简单的把<code>grep</code>命令换成<code>ag</code> (当然前提是安装了这个软件)，可以大幅加速搜索速度。还有一个最新的软件<a href="https://github.com/BurntSushi/ripgrep">ripgrep</a>，据称比ag (The Silver Searcher)更快。</p> </li> <li> <p>Fontconfig的配置文件推荐放在<code>~/.config/fontconfig/fonts.conf</code>里，放在别处是废弃的用法，可能导致出错。</p> </li> <li> <p>Cron脚本不执行的一个可能的原因：Cron脚本不能包含后缀名，如果你不确定写的对不对，可以用<code>run-parts --test /etc/cron.monthly/</code>测试一下。<a href="http://askubuntu.com/questions/23009/reasons-why-crontab-does-not-work/111034#111034">askubuntu上的解答</a>。</p> </li> <li> <p>Markdown中，用<code>#.</code>代表编号只在<a href="http://pandoc.org/">pandoc</a>中支持，不要期望它在其他地方获得支持，对于非pandoc的情况用传统的<code>1.</code>是正道。</p> </li> <li> <p>Shadowsocks在服务端打开<a href="https://shadowsocks.org/en/spec/one-time-auth.html">一次性认证</a>的方法是在配置文件中加入<code>"auth":true</code>。<a href="/2016/03/11/Shadowsocks-libev-one-time-auth/">详解</a>。</p> </li> <li> <p>MPV如果要批量播放视频，可以在视频所在目录里运行<code>mpv *</code>。</p> </li> <li> <p>可以用ffmpeg合并视频，一个例子是：</p> </li> </ol> <figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre><td class="code"><pre><span class="line">ffmpeg -i <span class="string">"Cloud.Atlas.2012.RUS.Blu-Ray.1080p.AC3.x264.mkv"</span> -i <span class="string">"Cloud.Atlas.2012.English.Audio.AC3.DD5.1.448K.Angrybirdy@CHD.ac3"</span> -c copy -map 0:0 -map 1:0 out.mkv</span><br></pre></table></figure> <ol start="8"> <li> <p><code>.ts</code>视频可以直接用<code>cat</code>合并。<a href="https://superuser.com/questions/692990/use-ffmpeg-copy-codec-to-combine-ts-files-into-a-single-mp4">更多关于合并视频的知识</a>。</p> </li> <li> <p>Shadowsocks的“ss-stunnel”是用来进行转发的，数据走的是Shadowsocks的协议，用法类似<code>ss-tunnel.exe -u -c "C:/msys64/etc/shadowsocks/config.json" -L "8.8.8.8:53" -l 53</code>，实现在本地的53端口起一个DNS服务器，而DNS的解析被转发到谷歌的DNS。</p> </li> <li> <p>用Shadowsocks时，如果想把代理分享给局域网的其他电脑，可以在配置文件中加入<code>"local_address":"0.0.0.0"</code>，这样代理的本地端口就暴露给局域网的其他电脑了。注意这里可能会弹出防火墙的窗口。</p> </li> <li> <p>开启<a href="https://mpv.io/">MPV</a>硬件加速的方法：在配置文件里写入<code>hwdec=auto</code>。对于Windows，配置文件是<code>%appdata%/mpv/mpv.conf</code>。</p> </li> <li> <p>GNU Octave的每夜版(nightly)可以从<a href="https://buildbot.octave.space/#/download">https://buildbot.octave.space/#/download</a>获取。</p> </li> <li> <p>Windows下小巧好用的PDF阅读器SumatraPDF的抢鲜版(prelease)的<a href="https://www.sumatrapdfreader.org/prerelease.html">下载地址</a>。<a href="/2017/03/07/Remove-highlight-in-SumatraPDF">新版标记功能的介绍</a>。</p> </li> <li> <p>Pandoc的<code>reference-docx</code>和<code>reference-odt</code>参数统一到<code>reference-doc</code>参数上了。</p> </li> <li> <p>Linux平台下，54.x版本以上的Firefox必须安装<a href="https://wiki.archlinux.org/index.php/PulseAudio">PulseAudio</a>才能听到声音，命令是<code>sudo pacman -S pulseaudio pulseaudio-alsa</code>。</p> </li> <li> <p><a href="http://www.mactype.net/">MacType</a>的最新版(<a href="https://github.com/snowie2000/mactype/releases/tag/v1.2017.628.0">v1.2017.628.0</a>)中，如果使用了DirectWrite支持(即<code>DirectWrite=1</code>)，那么，<code>[DirectWrite]</code>中最好<code>RenderingMode=6</code>，否则用DirectWrite的软件，比如Word 2013，效果会非常差。</p> </li> <li> <p>好奇的你可以用<code>objdump -d emacs</code>来反汇编某个程序看里面的秘密，如果你喜欢Intel的汇编语法，可以用<code>objdump -M intel -d emacs</code>。</p> </li> <li> <p>用GCC的时候在<code>CFLAGS</code>加上<code>-ftree-vectorize</code>自动向量化代码。想知道哪些代码被自动优化了？再加上<code>-fopt-info</code>优化的指示就会输出到stderr，用<code>2> /tmp/err.log</code>把它们输出到文件仔细研究吧。</p> </li> <li> <p>curl是比较容易使用Socks5代理的，用<code>--socks5-hostname</code>参数就可以，示例</p> </li> </ol> <figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre><td class="code"><pre><span class="line">curl https://chriszheng.science/index.html --socks5-hostname localhost:65500 -O</span><br></pre></table></figure> <ol start="20"> <li> <p>用代理<code>git clone</code>的方法：<code>ALL_PROXY=socks5://127.0.0.1:65500 git clone https://github.com/neomutt/neomutt</code>。</p> </li> <li> <p><a href="http://www.info-zip.org/">UnZip</a>可以解压百度网盘批量下载的zip压缩包，7-zip不行，WinRAR的修复功能也可以让压缩包正常解压。</p> </li> <li> <p><a href="https://github.com/xSAVIKx/AndroidScreencast">AndroidScreencast</a>可以在电脑上操作安卓手机，而且不需要手机上装软件，原理是用ADB。当然，非常不好用，延迟达到秒级，玩玩就好。</p> </li> <li> <p>接上条，<a href="https://github.com/cxplan/CXTouch">CXTouch</a>速度更快，需要在手机上安装软件。</p> </li> <li> <p>更快的是<a href="https://github.com/Genymobile/scrcpy">scrcpy</a>。</p> </li> <li> <p>如果Node的包管理出现问题，可以用激进的方法删除<code>node_modules</code>重新安装。对于*nix系统<code>rm -rf node_modules</code>就可以，在Windows下可能会删除不掉，可以安装在Windows下实现“rm -rf”的包<a href="https://github.com/isaacs/rimraf">rimraf</a>：<code>npm install rimraf -g</code>，然后<code>rimraf node_modules</code>。<strong>注意，这个包的功能是<code>rm -rf</code>哦。</strong></p> </li> <li> <p>Hexo的包<a href="https://github.com/mamboer/hexo-filter-cleanup">hexo-filter-cleanup</a>在调试模式不会生效。我一直疑惑为什么调试模式生成的快，原来是因为调试模式不会优化，所以快了很多。</p> </li> <li> <p>编辑<code>/etc/fstab</code>的时候一定要慎重，因为启动的时候系统会默认挂这些分区，如果找不到，启动失败。</p> </li> <li> <p>播放器<a href="https://mpv.io/">mpv</a>如果不想要看输出可以加参数<code>--no-terminal</code>。</p> </li> <li> <p>用Emacs的Tramp连接到运行<a href="https://busybox.net/about.html">BusyBox</a>的路由器时会遇到连不上的问题，在路由器上安装<code>coreutils-stty</code>就好啦。原因是因为精简的BusyBox很可能不带<code>stty</code>命令，而Tramp又依赖它，所以反复出错。</p> </li> <li> <p>衍生自Firefox的浏览器<a href="http://kmeleonbrowser.org">K-Meleon</a>会连接到官网自动更新，如果官网挂了，比如像今天这样，软件就会崩溃。禁用自动更新就好了，禁用方法是<code>偏好设置→K-Meleon插件</code>中禁用<code>检查更新</code>。</p> </li> <li> <p>最近用上了<a href="https://github.com/tmux/tmux/">tmux</a>，有种相见恨晚的感觉，以下两条配置很好用，可以放到<code>~/.tmux.conf</code></p> </li> </ol> <figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre><td class="code"><pre><span class="line">set -g mouse on</span><br><span class="line">set -g status-right ' #{?client_prefix,#[reverse]&lt;Prefix>#[noreverse] ,}"#{=21:pane_title}" %H:%M %d-%b-%y'</span><br></pre></table></figure> <p><a href="https://stackoverflow.com/questions/11832199/tmux-set-g-mouse-mode-on-doesnt-work/42332679">来源1</a>。<a href="https://stackoverflow.com/questions/12003726/give-a-hint-when-press-prefix-key-in-tmux">来源2</a>。</p> <ol start="32"> <li> <p>Windows下使用Firefox还是必须得用Flash，而第三方修改过的Flash比原始版的好。火狐吧的文科一直维护去沙箱版Flash，下载地址 <br> <a href="https://pan.baidu.com/s/1boVSQXx#list/path=%2F">https://pan.baidu.com/s/1boVSQXx#list/path=%2F</a> <br> 另外一位朋友维护的 <br> <a href="https://bbs.kafan.cn/thread-1839722-1-1.html">https://bbs.kafan.cn/thread-1839722-1-1.html</a></p> </li> <li> <p>开源看图软件<a href="https://nomacs.org">nomacs</a>还挺好用。</p> </li> <li> <p><a href="https://mirrors.tuna.tsinghua.edu.cn/help/termux/">Termux使用国内的清华源的方法</a>。</p> </li> <li> <p>Termux也可以用<code>termux-change-repo</code>换源。</p> </li> <li> <p>让Termux不震动的方法是改配置，方法见<a href="https://termux.com/configuration.html">配置文件的手册</a>。</p> </li> <li> <p>在Windows环境下使用mutt看HTML邮件：</p> </li> </ol> <figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre><td class="code"><pre><span class="line"># ~/.mutt/muttrc</span><br><span class="line">auto_view text/html</span><br><span class="line">alternative_order text/plain text/html</span><br><span class="line"># ~/.mailcap</span><br><span class="line">text/html; "/C/Program Files/Mozilla Firefox/firefox" "$(cygpath -w %s)" && sleep 2; nametemplate=%s.html; copiousoutput</span><br></pre></table></figure> <ol start="38"> <li>ImageMagick可以重设图片的DPI，方法是</li> </ol> <figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre><td class="code"><pre><span class="line">convert -units PixelsPerInch 输入图片.png -density 600 -trim 输出图片名.png</span><br></pre></table></figure> <p>顺带演示了<code>-trim</code>去白边。</p> <ol start="39"> <li> <p>Git可以用<code>.git/info/exclude</code>代替<code>.gitignore</code>来忽略本地文件，这种方法不必提交到远程。<a href="http://mbork.pl/2018-10-14_Magit_and_C-u_i">来源</a>。</p> </li> <li> <p>下载用于win64平台的最新版Firefox： <br> <a href="https://download.mozilla.org/?product=firefox-latest&os=win64&lang=zh-CN">https://download.mozilla.org/?product=firefox-latest&os=win64&lang=zh-CN</a></p> </li> <li> <p>正确的用ffmpeg截取视频的方法：</p> </li> </ol> <figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre><td class="code"><pre><span class="line">ffmpeg.exe -ss 1:8:57 -i <span class="string">"阿凡达 Avatar Extended Collector's Edition 2009 BluRay 1080p DTS x264-CnSCG.mkv"</span> -t 12 -c copy a.mkv</span><br></pre></table></figure> <p>注意，这里必须写时间长度，用<code>-t</code>。</p> <ol start="42"> <li> <p>如果VirtualBox的VDI文件是动态大小，占用空间变大了，可以在虚拟机的系统里用<a href="http://technet.microsoft.com/en-us/sysinternals/bb897443">SDelete</a>命令清理自由空间：<code>sdelete.exe c: -z</code>，然后用VBoxManage的<code>vboxmanage modifymedium --compact thedisk.vdi</code>来压缩。<a href="https://superuser.com/questions/529149/how-to-compact-virtualboxs-vdi-file-size">来源</a>。</p> </li> <li> <p>ffmpeg合并字幕并且设为默认</p> </li> </ol> <figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre><td class="code"><pre><span class="line">ffmpeg -i in.mp4 -i in.srt -c copy -disposition:s:0 default out.mkv</span><br></pre></table></figure> <p><a href="https://stackoverflow.com/questions/26956762/ffmpeg-set-subtitles-track-as-default">来源</a>。</p> <ol start="44"> <li> <p>统计汉字的字数<code>wc -m *.md</code>。</p> </li> <li> <p>抓取<code>m3u8</code>形式的在线视频：</p> </li> </ol> <figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre><td class="code"><pre><span class="line">ffmpeg -user_agent <span class="string">"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_9_5) AppleWebKit/601.7.8 (KHTML, like Gecko) Version/9.1.3 Safari/537.86.7"</span> -i http://185.38.12.60/sec/1503173737/363333397f6b65370bfc740ca4dea8c3f8dd2a93419f7748/ivs/12/b1/2ec5e15ba2a6/hls/tracks-4,5/index.m3u8 -c copy pd.mkv</span><br></pre></table></figure> <p><a href="https://apple.stackexchange.com/questions/158360/how-to-download-m3u8-stream-to-local-hd-in-os-x">来源</a>。</p> <ol start="46"> <li>把图片转成视频：</li> </ol> <figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre><td class="code"><pre><span class="line">ffmpeg -framerate 12 -i <span class="string">"a_%03d.bmp"</span> -vcodec libx264 -crf 1 -preset slow -vframes 1000 -pix_fmt yuv420p a.mp4</span><br></pre></table></figure> <ol start="47"> <li> <p>用mpv播放网络音频容易断，加上<code>--stream-lavf-o=reconnect_streamed=1</code>参数可以自动重新连接。播放网络音频默认的超时值是1分钟。<a href="https://github.com/mpv-player/mpv/issues/5793">出处</a>。</p> </li> <li> <p>Linux的<code>sensors</code>命令可以输出传感器探测到的温度，如何把温度信息和相应的硬件匹配呢？<code>ls -l /sys/dev/block/*</code>。<a href="https://bbs.archlinux.org/viewtopic.php?id=252832">来源</a>。</p> </li> <li> <p>用neomutt可以设置编辑器，比如把<code>set editor = 'emacsclient -a ""'</code>写到配置文件里。<strong>注意</strong>，不要加上<code>-n</code>，因为那样会立即退出，neomutt会认为你没有写内容而放弃寄信。</p> </li> <li> <p>MSYS2更新<code>msys2-runtime</code>包的时候会提示关闭其他的MSYS2程序(terminate other MSYS2 programs before proceeding)，一定要照做，否则会出错。错误的原因是，Windows支持延迟写入，到的动态链接库(DLL文件)如果在使用，新的文件不会覆盖老的，再运行新程序，用的还是老的DLL，新程序加老动态链接库很可能会出错。</p> </li> <li> <p><a href="https://unix.stackexchange.com/questions/388518/how-to-tell-if-a-logical-volume-is-striped">列出lvm逻辑卷的详细信息</a>。</p> </li> <li> <p><a href="https://github.com/you-dont-need/You-Dont-Need-Lodash-Underscore">把Lodash替换为原生JavaScript的教程</a>。</p> </li> <li> <p>如何快速知道Linux系统的关机开机情况：<code>last -x | grep shutdown | less</code>。<a href="https://unix.stackexchange.com/questions/9819/how-to-find-out-from-the-logs-what-caused-system-shutdown">来源</a>。</p> </li> <li> <p>可以访问<a href="http://localhost:631">http://localhost:631</a>来在线管理CUPS系统。</p> </li> <li> <p><a href="https://goproxy.cn/">Goproxy 中国</a></p> </li> <li> <p>用ffmpeg给视频加简单的淡入、淡出和字幕特效：</p> </li> </ol> <figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre><td class="code"><pre><span class="line">ffmpeg -i a.mp4 -vf <span class="string">"fade=t=in:st=0:d=2, \</span></span><br><span class="line"><span class="string">fade=t=out:st=32:d=2, \</span></span><br><span class="line"><span class="string">drawtext=enable='between(t,2,20)':fontfile=HiraginoSansGB-W3.otf:textfile=a.txt:x=(w-text_w)/2-30:y=h-th-80:fontcolor=white:fontsize=50"</span> -t <span class="string">"34"</span> -c:a copy -vcodec libx264 -crf 20 -preset slow output.mp4</span><br></pre></table></figure> <p>把文字放在单独的文件<code>a.txt</code>里防止编码错误。另外，我发现用服务器编码并不会快多少。</p> <ol start="57"> <li><code>BUILDDIR=/tmp/makepkg makepkg</code>. <a href="https://wiki.archlinux.org/index.php/Makepkg#Building_from_files_in_memory">来源</a>。</li> </ol> <h2 id="科学相关软件技巧">科学相关软件技巧</h2> <ol> <li> <p>用<span id="hexo-amp-id-2">ORCA</span>计算金属配合物遇到SCF不收敛的情况，可以使用<code>! SlowConv</code>，如果不行可以试试<code>! KDIIS</code>。<a href="/2016/12/22/Solving-SCF-creep-in-QM-calculation-of-metal-complexes-and-the-efficacy-of-itopride-hydrochloride/">更多信息</a>。</p> </li> <li> <p>Octave里在向量最后增加一个元素的写法是<code>a(end + 1) = 5;</code>，删除最后一个元素的写法是<code>a(end) = [];</code>。<a href="https://www.gnu.org/software/octave/doc/interpreter/Index-Expressions.html#Index-Expressions">手册里的解释</a>。</p> </li> <li> <p>求<a href="http://vina.scripps.edu/">AutoDock Vina</a>输出结果的平均值，：</p> </li> </ol> <figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre><td class="code"><pre><span class="line">(<span class="keyword">for</span> f <span class="keyword">in</span> *.<span class="built_in">log</span>; <span class="keyword">do</span> 	<span class="built_in">echo</span> -n <span class="string">"<span class="variable">#123;f}</span>: "</span>; 	awk <span class="string">'/^[ ]+[1-9]+/ {n++;sum+=$2} END {print n?sum/n:0}'</span> <span class="variable">#123;f}</span>; <span class="keyword">done</span>) > /tmp/a.log</span><br></pre></table></figure> <ol start="4"> <li> <p>When Octave fail to plot a figure, run the magical <code>close all</code>. I struggled with this issue for a long time. <br> 如果Octave的画图功能不能正常工作，运行神奇的<code>close all</code>。这个问题困扰我很久了，只有在Emacs里用Octave才会遇到。这条经验也<a href="https://lists.gnu.org/archive/html/help-octave/2018-04/msg00075.html">分享到help-octave邮件列表了</a>。</p> </li> <li> <p>从兼容性方面考虑，Octave导出SVG格式的图片是比较好的选择，缺点是不太好编辑了。话说回来，PostScript也不是为了编辑而产生了。</p> </li> <li> <p>用<code>mpif90</code>编译的时候会报<code>Illegal preprocessor directive</code>，因为默认不进行预处理，<code>FCFLAGS = -cpp</code>可以解决。</p> </li> <li> <p>Jmol/JSmol获取高质量截图：<code>write IMAGE 1920 1920 PNGT n "6.png"</code>。</p> </li> <li> <p>Octave里要用LaTeX语法必须用单引号，<code>xlabel('{\it d}(C–Cl) in Å')</code>。来源：<a href="https://octave.org/doc/v5.1.0/Use-of-the-interpreter-Property.html">手册里有</a>，我觉得这句话应该强调。</p> </li> </ol> <h2 id="商业软件技巧">商业软件技巧</h2> <ol> <li> <p>在MS Word中，<code>=rand(8, 10)</code>可以生成随机的文字，<code>=lorem(8, 10)</code>生成的是Lorem ipsum。<a href="/2016/06/10/Generate-random-sentences-in-MS-Word/">详解</a>。</p> </li> <li> <p>MS Word里用<code>Ctrl + *</code>(实际是<code>Ctrl + Shift + 8</code>)可以显示额外的格式符号，比如空格用<code>·</code>表示，对于一些编辑工作可能有用。(Emacs里等价的功能是<code>M-x whitespace-mode</code>)。</p> </li> <li> <p>永久性的将Word的宏转为文字：<code>Ctrl+Shift+F9</code>。<a href="https://books.google.com/books?id=f3mHWFUSwr0C&pg=PA272&lpg=PA272&dq=Word+%E5%9F%9F%E4%BB%A3%E7%A0%81+%E8%BD%AC%E4%B8%BA%E6%96%87%E5%AD%97&source=bl&ots=FXzB28uhL7&sig=ZItDnX7RteZC74uHZQGOcXjN4HY&hl=en&sa=X&ved=0ahUKEwj7xu_swMjSAhUmilQKHQoyAxIQ6AEIQzAF#v=onepage&q=Word%20%E5%9F%9F%E4%BB%A3%E7%A0%81%20%E8%BD%AC%E4%B8%BA%E6%96%87%E5%AD%97&f=false">出处</a>。</p> </li> <li> <p>Acrobat XI的11.0.1以上版才能和Word 2013兼容，直接安装的11.0.0是不行的，必须先升级。<a href="https://helpx.adobe.com/acrobat/kb/compatible-web-browsers-pdfmaker-applications.html#main_PDFMaker_compatible_applications">各版本的兼容情况</a>。</p> </li> <li> <p>要想在Windows下使用UTF-8的，要么用Emacs等软件，通过管道传递，要么就在命令提示符里用chcp改代码页(<code>chcp 65001</code>)，直接用使用命令，包括API调用，肯定会失败。<a href="/2015/09/24/Prefer-UTF-8-in-MS-Windows/">在MS-Windows平台下使用UTF-8编码</a>。</p> </li> <li> <p>Word的选项里面，显示-打印选项里面，有“<strong>打印文档属性</strong>”一项，如果选上了，打印的时候会多一页，一定不要选。这个毛病非常难以排查，设置的位置又非常隐秘。</p> </li> <li> <p>Excel怎么固定多个行和多个列呢？选中你要固定的行和列的「下一个」单元格，比如你想固定2行和1列，那么你应该选B3，然后视图-冻结窗口，就好了。如果我一直看百度出来的教程我是不会知道这个技巧的。</p> </li> <li> <p>Excel里统计非空的列和行<code>=COUNTA()</code>。</p> </li> <li> <p>Word里不能插入特别大的图片。</p> </li> <li> <p>小米的解锁工具带一个ADB驱动。官方提供的驱动签名都过期了。小米药丸。</p> </li> <li> <p>Acrobat XI的PDFMaker插件在Word里不能加载，修复重装等方法是不行的，需要修改注册表<code>HKEY_CURRENT_USER\Software\Microsoft\Office\Word\Addins\PDFMaker.OfficeAddin</code>的<code>LoadBehavior</code>，改成3，就好了。<a href="https://helpx.adobe.com/cn/acrobat/kb/pdfmaker-unavailable-office-2007-office.html">官方的解决方案</a>。</p> </li> <li> <p>如果还是不好使，继续修改<code>HKEY_CURRENT_USER\Software\Microsoft\Office\Word\Addins\PDFMaker.OfficeAddin</code>的<code>LoadBehavior</code>为3。</p> </li> <li> <p>Q: 刚装上的EndNote X9在Word 2016里不能用，提示「无效字符串」，怎么破？ <br> A: 运行安装目录下的<code>Configure EndNote.exe</code>。</p> </li> <li> <p>Word把全角引号替换为半角引号怎么操作？用查找替换。查找<code>（(?*)）</code>替换为<code>(\1)</code>，记得选使用通配符。</p> </li> <li> <p>Word的文档模板<code>Normal.dotm</code>位于<code>%appdata%/Microsoft\Templates</code>文件夹。</p> </li> <li> <p>思源宋体/黑体 + 数字 + Word 2016里用Acrobat XI生成PDF = 乱码。</p> </li> <li> <p>Windows丢失通知栏的蓝牙图标怎么办？<code>控制面板</code> → <code>网络和共享中心</code> → <code>更改适配器设置</code> → <code>Bluetooth 网络连接</code> → 右键<code>属性</code> → <code>BlueTooth</code>选项卡 → <code>BlueTooth设置</code> → <code>在通知区域显示BlueTooth图标</code>。或者看下面这个图。<span id="hexo-amp-id-3">萎软药丸！</span></p> </li> </ol> <div class="amp-img-wrapper"><amp-img height="874" layout="responsive" src="/img/Windows-restore-Bluetooth-icon.png" width="863"></amp-img></div> <h2 id="移动端相关">移动端相关</h2> <ol> <li> <p>对于MIUI 8，开启开发者模式后，选择不使用锁屏界面，就不用看锁屏画报了。<a href="/2016/12/04/I-am-a-Mi-fan/">我之前写过</a>。</p> </li> <li> <p>下载用于Android的最新版Firefox： <br> <a href="https://download.mozilla.org/?product=fennec-latest&os=android&lang=multi">https://download.mozilla.org/?product=fennec-latest&os=android&lang=multi</a></p> </li> <li> <p>红米手机用MTP模式传文件，文件显示不全？重启试试。</p> </li> </ol> <h2 id="网络相关技巧">网络相关技巧</h2> <ol> <li> <p>为了移动端友好没有必要在robots.txt中禁止抓取CSS等文件。<a href="/2016/09/15/No-need-to-disallow-CSS-files/">详解</a>。</p> </li> <li> <p>同一个域名下混合使用HTTP和HTTPS会导致很多问题，不要这样。<a href="/2017/01/13/Use-Yaaw-in-HTTPS-environment/">一个我的折腾实例</a>。</p> </li> <li> <p>批量复制URL的Firefox扩展<a href="https://addons.mozilla.org/en-US/firefox/addon/copy-link-url/?src=ss">Copy Link URL</a>。</p> </li> <li> <p>网站<a href="https://gtmetrix.com/">https://gtmetrix.com/</a>可以对网页进行测速，方便优化网站。谷歌的<a href="https://developers.google.com/speed/pagespeed/insights/">PageSpeed Insights</a>也是个好工具。</p> </li> <li> <p>可以通过添加<code>rel</code>确认你是链接的所有者，添加的链接类似这样<code>&lt;a rel="me" href="https://mastodon.sdf.org/@chriszheng">Mastodon&lt;/a></code>，这样在Mastodon的资料页里链接会变<span id="hexo-amp-id-4">绿</span>。</p> </li> <li> <p><a href="https://support.mozilla.org/zh-CN/questions/1218110">Firefox 60+版本移除了查看Cookie的功能</a>，解决方案是<a href="https://developer.mozilla.org/zh-CN/docs/Tools/%E5%AD%98%E5%82%A8%E6%9F%A5%E7%9C%8B%E5%99%A8">用存储查看器</a>，快捷键是<code>Shift+F9</code>。</p> </li> </ol> <h2 id="软硬件折腾">软硬件折腾</h2> <ol> <li> <p>除非有好的设备并且非常认真听，320 Kbps的音质已经足够好了。<a href="/2015/06/27/320-Kbps-is-good-enough/">我的经验</a>。</p> </li> <li> <p>Wifi常见的协议按从旧到新的顺序是：<code>802.11b &lt; 802.11g &lt; 802.11n &lt; 802.11ac</code>，目前<code>802.11ac</code>就是比较新协议了。</p> </li> <li> <p>一些无线网卡，比如我用的比较坑的Intel的<a href="https://www.cnet.com/products/intel-centrino-wireless-n-2230-network-adapter-series/specs/">N 2230</a>，会出现使用<code>802.11n</code>不稳定的情况，这种时候可以在网卡的设置里面禁用<code>802.11n</code>协议，这样速度会慢一些(理论最大速度下载速度从37 M/s降低到6 M/s)，稳定性会有很大的提升，而且大多数时候出口带宽没有那么高(也就是说你的下载速度根本就不会大于6 M/s)，就算协议能支持也对你没有用。这条经验比较啰嗦，希望看的人能明白。</p> </li> <li> <p>Intel Core架构的顺序是：Nehalem、Sandy Bridge、Ivy Bridge、Haswell、Broadwell、Skylake、Kaby Lake。<a href="https://en.wikipedia.org/wiki/Intel_Core">出处</a>。</p> </li> <li> <p>今天解答了我4年前在笔记本上装双系统的一个疑惑：如果电脑是以Legacy模式引导的，那么Windows的安装程序只能安装到MBR分区上，而以UEFI模式时只能安装到GPT分区上，即<code>BIOS–MBR</code>以及<code>UEFI–GPT</code>是绑定的，二选一。这是Windows的限制。<a href="https://wiki.archlinux.org/index.php/Dual_boot_with_Windows#Bootloader_UEFI_vs_BIOS_limitations">出处</a>。</p> </li> <li> <p>从TP-Link WR841N v8路由器读取PPPoE密码，直接从Web界面读的是<code>Hello123World</code>，是不对的。需要用<a href="https://www.nirsoft.net/utils/router_password_recovery.html">RouterPassView</a>这个小软件从备份的配置文件(默认叫<code>config.bin</code>)里读取。</p> </li> <li> <p>比较老的TP-Link路由器，比如WR841N，登录管理系统只能用HTTP，比较新的Firefox会优先使用HTTPS，导致地址变成类似<code>https://192.168.1.1/</code>，无法登录管理系统。</p> </li> <li> <p>运行LEDE的路由器彻底禁用DHCPv6，配置LAN的<code>IPv6 分配长度</code>，设为禁用。<a href="https://sleele.com/2020/02/03/openwrt-lede-%E5%85%B3%E9%97%ADipv6%E5%88%86%E9%85%8D/">来源</a>。</p> </li> </ol> </div> </article> <div class="meta-content"> <div class="widget"> <h6 class="tag"><span class="fa fa-fw fa-tag"></span>TAGS</h6> <div class="article-tag"> <ul class="article-tag-list"> <li class="article-tag-list-item"> <a href="/tags/Octave/" class="article-tag-list-link"> Octave </a> </li> <li class="article-tag-list-item"> <a href="/tags/一句话/" class="article-tag-list-link"> 一句话 </a> </li> </ul> </div> </div> </div> </div> <footer id="footer"> <div class="copyright-tool"> <div class="copyright-title"> <span> © 2021 M-x Chris-An-Emacser </span> </div> <div class="copyright-license"> <aside> Powered by <a href="https://hexo.io/">Hexo</a>. <a href="https://github.com/tea3/hexo-generator-amp">AMP-Theme</a> designed by <a href="https://photo-tea.com/">tea</a>. </aside> </div> </div> </footer> </div> <div id="totop"><a href="#"></a></div> 