<!DOCTYPE html><html lang="zh-CN"><head><meta http-equiv="content-type" content="text/html; charset=utf-8"><meta content="width=device-width,initial-scale=1,maximum-scale=1,user-scalable=0" name="viewport"><meta content="yes" name="apple-mobile-web-app-capable"><meta content="black-translucent" name="apple-mobile-web-app-status-bar-style"><meta content="telephone=no" name="format-detection"><meta name="description" content="一个Emacs爱好者的个人网站."><title>我的一句话经验——软件篇 | M-x Chris-An-Emacser</title><link rel="stylesheet" type="text/css" href="/css/style.css?v=0.0.0"><link rel="stylesheet" type="text/css" href="//cdn.jsdelivr.net/npm/normalize.css@8.0.1/normalize.min.css"><link rel="stylesheet" type="text/css" href="//cdn.jsdelivr.net/npm/purecss@1.0.0/build/pure-min.css"><link rel="stylesheet" type="text/css" href="//cdn.jsdelivr.net/npm/purecss@1.0.0/build/grids-responsive-min.css"><link rel="stylesheet" type="text/css" href="//cdn.jsdelivr.net/npm/font-awesome@4.7.0/css/font-awesome.min.css"><script type="text/javascript" src="//cdn.jsdelivr.net/npm/jquery@3.4.0/dist/jquery.min.js"></script><script type="text/javascript">window.jQuery||(document.write(decodeURI('%3Cscript src="/js/jquery.min.js" type="text/javascript"%3E%3C/script%3E')),document.write('<link rel="stylesheet" type="text/css" href="/css/normalize.min.css"/>'),document.write('<link rel="stylesheet" type="text/css" href="/css/pure-min.css"/>'),document.write('<link rel="stylesheet" type="text/css" href="/css/grids-responsive-min.css"/>'),document.write('<link rel="stylesheet" type="text/css" href="/css/font-awesome.min.css"/>'))</script><link rel="stylesheet" type="text/css" href="/css/disqusjs.css"><link rel="icon" mask="" sizes="any" href="/favicon.ico"><link rel="Shortcut Icon" type="image/x-icon" href="/favicon.ico"><link rel="apple-touch-icon" href="/apple-touch-icon.png"><link rel="apple-touch-icon-precomposed" href="/apple-touch-icon.png"><link rel="alternate" type="application/atom+xml" href="/atom.xml"><link rel="amphtml" href="./amp/index.html"><script type="text/javascript" src="//cdn.jsdelivr.net/npm/clipboard@2.0.4/dist/clipboard.min.js"></script><script type="text/javascript" src="//cdn.jsdelivr.net/npm/toastr@2.1.4/build/toastr.min.js"></script><link rel="stylesheet" href="//cdn.jsdelivr.net/npm/toastr@2.1.4/build/toastr.min.css"><meta name="generator" content="Hexo 4.2.1"></head><body><div class="body_container"><div id="header"><div class="site-name"><h1 class="hidden">我的一句话经验——软件篇</h1><a id="logo" href="/.">M-x Chris-An-Emacser</a><p class="description">一个Emacs爱好者的闲言碎语</p></div><div id="nav-menu"> <a class="current" href="/."><i class="fa fa-home">首页</i></a> <a href="/archives/"><i class="fa fa-archive">归档</i></a> <a href="/categories/"><i class="fa fa-folder">分类</i></a> <a href="https://chriszheng.gitee.io/" target="_blank" rel="noopener"><i class="fa fa-user">国内镜像站</i></a> <a href="/essentials-of-academic-writing/"><i class="fa fa-book">学术写作指要</i></a> <a href="/atom.xml"><i class="fa fa-rss">订阅</i></a></div></div><div class="pure-g" id="layout"><div class="pure-u-1 pure-u-md-3-4"><div class="content_container"><div class="post"><h1 class="post-title">我的一句话经验——软件篇</h1><div class="post-meta">2017-01-02 <span>|</span> <span class="category"><a href="/categories/%E4%B8%80%E5%8F%A5%E8%AF%9D%E7%BB%8F%E9%AA%8C/">一句话经验</a></span> <span id="busuanzi_container_page_pv">|<span id="busuanzi_value_page_pv"></span> <span>阅读</span></span></div><a class="disqus-comment-count" data-disqus-identifier="2017/01/02/One-sentence-tips-on-software/" href="/2017/01/02/One-sentence-tips-on-software/#disqus_thread"></a><div class="post-content"><p>之前零零散散写过一些经验分享的文章，不系统，对读者也不友好。现在整理到一块，随时更新，如果值得深入还可以单独写文章。主要针对自由/开源软件，也可能涉及科学软件、商业软件。</p><a id="more"></a><p><strong>目标</strong>：今年整理50条在中文圈里稀罕的小技巧。</p><p>2017-12-20 <strong>Update</strong>: 跌跌撞撞，我写完了50条经验。</p><p>2018-01-03 <strong>Update</strong>: 进行了归类，想办法转载看能不能收获更多访问。</p><p>一句话系列的另外两篇：<a href="/2017/04/02/One-sentence-tips-on-Emacs-Lisp/">我的一句话经验——Emacs Lisp篇</a>、<a href="/2017/04/14/One-sentence-cold-knowledge/">一句话系列——冷知识篇</a>。</p><style>@font-face{font-family:'URW Gothic';src:url(/files/URWGothic-Book.otf);font-weight:400;font-style:normal}</style><h2 id="nix世界命令行使用技巧">*NIX世界命令行使用技巧</h2><p style="font-size:larger">主要是使用和写脚本的经验，带例子。</p><ol><li><p>Grep可以用<code>--include=&quot;*.md&quot;</code>指定搜索的文件类型，比如<code>grep Chris -r . --include=&quot;*.md&quot;</code>，在当前目录递归的检索<code>*.md</code>文件中的“Chris”。</p></li><li><p>7-Zip的<code>-r</code>会递归的在目录里搜索指定的路径，而不是我们期望的在<strong>指定目录中递归</strong>，所以不要用。<a href="/2015/03/01/7zip-compresses-folder/">详解</a>。</p></li><li><p>多进程使用下载工具wget的方法：<code>cat /tmp/url.txt | xargs -n 1 -P 8 wget -c;</code>，<code>url.txt</code>里一行一个地址，<code>-P 8</code>表示最多同时运行8个进程，相比加<code>&amp;</code>后台运行的方法可以指定进程数。更好的方法是用<code>parallel</code>，例子见下面。</p></li><li><p>*NIX世界的cut命令很好用，有时候比正则好用，而且可以写一些比较“dirty”的代码。</p></li><li><p>Bash中如果要实现某条指令成功后再并行运行几条命令，可以这样写：<code>echo &amp;&amp; { sleep 12 &amp; sleep 12 &amp; }; wait; echo &amp;&amp; { sleep 12 &amp; sleep 12 &amp;};</code>。</p></li><li><p><code>grep -o</code>可以只显示匹配的部分。</p></li><li><p>将URL保存到文件后用wget的<code>-i</code>参数批量下载，比如<code>wget -i ./list.txt</code>。</p></li><li><p>Linux里有一个<code>/usr/bin/timeout</code>命令可以让程序超时退出，用法是<code>/usr/bin/timeout 1m ts</code>，就是执行1分钟后就kill掉，在写cron命令时很方便。如果没有这个命令，对于Debian系列的系统可以安装名为<code>timeout</code>的包。<a href="https://serverfault.com/questions/539665/setting-timeout-for-cron-jobs" target="_blank" rel="noopener">来源</a>。</p></li><li><p>用<code>date +%j</code>可以告诉你今天是一年中的第多少天，对于算天数非常有用。<a href="https://linux.die.net/man/1/date" target="_blank" rel="noopener">date的手册</a>。</p></li><li><p>写Bash脚本的好参考：<br> <a href="https://github.com/progrium/bashstyle" target="_blank" rel="noopener">progrium/bashstyle</a><br> 以及一个小教程<br> <a href="https://zwischenzugs.com/2018/01/06/ten-things-i-wish-id-known-about-bash/" target="_blank" rel="noopener">Ten Things I Wish I’d Known About bash</a><br> 我觉得最有用也最不容易记住的是<a href="https://www.tldp.org/LDP/abs/html/parameter-substitution.html" target="_blank" rel="noopener">变量替换</a></p></li><li><p>上面的第二个链接告诉我们单引号<code>''</code>不会做替换，而双引号<code>&quot;&quot;</code>会替换。我们一般写<code>sed</code>和<code>awk</code>命令都用单引号，就是不希望我们的代码被替换，可有时候我恰恰需要替换，这时候换用双引号就好了，请看示例代码</p></li></ol><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">Etdl=$(grep <span class="string">"FINAL SINGLE POINT ENERGY"</span> /data/qm/B97-3c/a.out | tail -n1 | awk <span class="string">'&#123;print $(NF)&#125;'</span>)</span><br><span class="line">sed <span class="string">"s/^\([^ ]*\)/\1\t<span class="variable">$&#123;Etdl&#125;</span>/"</span> /tmp/a</span><br></pre></td></tr></table></figure><p>演示了如何把内容附加到每行后面。</p><ol start="12"><li><p>从第三行输出文件内容可以用awk实现：<code>awk 'NR&gt;=3' &quot;aaa.xyz&quot;</code>。</p></li><li><p><a href="https://www.gnu.org/software/parallel/" target="_blank" rel="noopener">GNU Parallel</a>并行执行命令很方便，一些实例</p></li></ol><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">parallel <span class="built_in">echo</span> &#123;&#125; + 1 is &#123;= <span class="string">'$_++'</span> =&#125; ::: &#123;1..10&#125;</span><br><span class="line">time parallel -N0 -j4 sleep 1 ::: &#123;1..10&#125;</span><br><span class="line">ls | parallel <span class="string">'cd &#123;&#125;; grep Chris *.out'</span></span><br></pre></td></tr></table></figure><p>注意，parallel会把你的输入放到命令行里，所以上面的命令如果不加<code>-N0</code>会睡很长时间。另外parallel在Android的termux环境中需设置环境变量<code>PARALLEL_SHELL</code>。</p><ol start="14"><li>Linux的字符终端(TTY)可以旋转，方法是</li></ol><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">echo</span> 1 | sudo tee /sys/class/graphics/fbcon/rotate_all</span><br></pre></td></tr></table></figure><p>注意下面这种写法不行。</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sudo <span class="built_in">echo</span> 1 &gt; /sys/class/graphics/fbcon/rotate_all</span><br></pre></td></tr></table></figure><ol start="15"><li><p>Bash里<code>&lt;()</code>的含义是：括号内的代码的输出被重定向到一个文件<code>/dev/fd/63</code>。执行<code>cat &lt;(ls)</code>就得到了<code>ls</code>的输出，执行<code>echo &lt;(ls)</code>得到了文件名。这个<code>/dev/fd/63</code>是一个命名管道(named pipe)，一切皆文件嘛，就当一个文件使。<a href="https://stackoverflow.com/questions/2443085/what-does-cmd-args-mean-in-the-shell" target="_blank" rel="noopener">参考</a>。</p></li><li><p>对于v1.06以上版本的<a href="https://www.gnu.org/software/bc/" target="_blank" rel="noopener">GNU bc</a>，设置<code>BC_LINE_LENGTH</code>可以控制自动断行的特性，例子</p></li></ol><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">BC_LINE_LENGTH=0 bc -l &lt;&lt;&lt; <span class="string">"scale = 100; a(1) * 4"</span></span><br></pre></td></tr></table></figure><ol start="17"><li>上一条技巧里的<code>&lt;&lt;&lt;</code>是“Here Strings”，Bash等shell才有，sh里没有，<code>bc -l &lt;&lt;&lt; &quot;scale = 100; a(1) * 4&quot;</code>等价于<code>echo &quot;scale = 100; a(1) * 4&quot; | bc -l</code>，但前者速度快很多。<a href="https://unix.stackexchange.com/questions/76402/command-line-instead-of" target="_blank" rel="noopener">参考</a>。测速代码</li></ol><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">time <span class="keyword">for</span> i <span class="keyword">in</span> &#123;1..10000&#125;; <span class="keyword">do</span> <span class="built_in">echo</span> <span class="string">""</span> | : ; <span class="keyword">done</span> <span class="comment"># 84s</span></span><br><span class="line">time <span class="keyword">for</span> i <span class="keyword">in</span> &#123;1..10000&#125;; <span class="keyword">do</span> : &lt;&lt;&lt; <span class="string">""</span>; <span class="keyword">done</span> <span class="comment"># 5s</span></span><br></pre></td></tr></table></figure><ol start="18"><li><p>除了<code>nohup</code>，<code>setsid</code>也可以在不受登出影响在后台运行程序。<a href="http://www.ibm.com/developerworks/cn/linux/l-cn-nohup/index.html" target="_blank" rel="noopener">参考</a>。</p></li><li><p>批量后缀名修改：<code>find . -name &quot;*.txt&quot; -exec rename .txt .md {} \;</code>，把所有的<code>*.txt</code>替换为<code>*.md</code>，包括子目录的文件。注意这里用到了<code>rename</code>命令，来自<code>util-linux</code>包。</p></li><li><p><code>sort</code>命令其实非常强大，比如对一个「表格」进行排序：</p></li></ol><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">$ cat a.txt</span><br><span class="line">张三    96</span><br><span class="line">李四    60</span><br><span class="line">王二    100</span><br><span class="line"></span><br><span class="line">$ sort -k2 -n a.txt</span><br><span class="line">李四    60</span><br><span class="line">张三    96</span><br><span class="line">王二    100</span><br></pre></td></tr></table></figure><p>这里是根据第二列的值对行进行排序。我以前只知道<code>sort</code>可以行排序，现在会根据指定的列排序，用Excel的理由又少了一个。</p><ol start="21"><li>接上面一条，<a href="https://www.gnu.org/software/coreutils/coreutils.html" target="_blank" rel="noopener">Coreutils</a>里的join可以连接表格，比如</li></ol><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br></pre></td><td class="code"><pre><span class="line">$ cat a.txt</span><br><span class="line">姓名	成绩1</span><br><span class="line">张三	90</span><br><span class="line">李四	80</span><br><span class="line">王二	100</span><br><span class="line"></span><br><span class="line">$ (head -n 1 a.txt &amp;&amp; tail -n +2 a.txt | sort) &gt; a.txt.sorted</span><br><span class="line">$ cat a.txt.sorted</span><br><span class="line">姓名	成绩1</span><br><span class="line">李四	80</span><br><span class="line">王二	100</span><br><span class="line">张三	90</span><br><span class="line"></span><br><span class="line">$ cat b.txt</span><br><span class="line">姓名	成绩2</span><br><span class="line">张三	92</span><br><span class="line">李四	90</span><br><span class="line">王二	90</span><br><span class="line"></span><br><span class="line">$ (head -n 1 b.txt &amp;&amp; tail -n +2 b.txt | sort) &gt; b.txt.sorted</span><br><span class="line">$ cat b.txt.sorted</span><br><span class="line">姓名	成绩2</span><br><span class="line">李四	90</span><br><span class="line">王二	90</span><br><span class="line">张三	92</span><br><span class="line"></span><br><span class="line">$ join a.txt.sorted b.txt.sorted &gt; c</span><br><span class="line">$ cat c</span><br><span class="line">姓名 成绩1 成绩2</span><br><span class="line">李四 80 90</span><br><span class="line">王二 100 90</span><br><span class="line">张三 90 92</span><br></pre></td></tr></table></figure><p>上面的代码还演示了如何在排序的时候保留第一行。更多的解释请看<a href="https://www.gnu.org/software/coreutils/manual/html_node/join-invocation.html" target="_blank" rel="noopener">join的手册</a>。</p><ol start="22"><li>可以用awk进行「转置」，把列变成行，方法是设置<code>ORS</code>，控制的是输出的间隔符，设为空格就把列连接起来了。比如用上面的数据，对第一列进行转置，借助Emacs的<code>M-|</code>，代码是：</li></ol><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">awk &#39;BEGIN&#123;ORS&#x3D;&quot; &quot;&#125; &#123;print $1&#125;&#39;</span><br></pre></td></tr></table></figure><ol start="23"><li>比如我有一列姓名，我想知道每个人出现的次数，怎么办呢？实例输入文件如下：</li></ol><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">李四</span><br><span class="line">王二</span><br><span class="line">张三</span><br><span class="line">李四</span><br><span class="line">李四</span><br></pre></td></tr></table></figure><p>可以借助sort和uniq再加上awk很方便的进行处理：`sort | uniq -c | sort -k1 | awk ‘{print $2 “\t” $1}’，结果如下：</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">王二	1</span><br><span class="line">张三	1</span><br><span class="line">李四	3</span><br></pre></td></tr></table></figure><ol start="24"><li>如何只复制指定的文件并且保留文件夹结构：</li></ol><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">rsync -rv E5internet:/tmp/screening/ /tmp/ --include=<span class="string">"*/"</span> --include=<span class="string">"a.xyz"</span> --exclude=<span class="string">"*"</span></span><br></pre></td></tr></table></figure><ol start="25"><li><p><a href="https://stackoverflow.com/questions/4325216/remove-all-files-except-some-from-a-directory" target="_blank" rel="noopener">保留一些文件，删除其他所有文件</a>：<code>find . -type f -not -name 'a.xyz' -delete</code>。</p></li><li><p>批量生成MD5校验的方法：<code>find /data/ -type f -exec md5sum {} \; &gt; /tmp/list.txt</code>。<a href="https://askubuntu.com/questions/486082/hash-value-on-directory" target="_blank" rel="noopener">来源</a>。</p></li><li><p>找大文件并且显示文件大小：<code>find . -size +100M -exec du -h {} \; | sort -k1hr</code>。</p></li><li><p><code>awk '/^&gt;./ {printf(&quot;\n%s\n&quot;, $1)} ! /^&gt;./ {printf(&quot;%s&quot;, $1)}' unigene.fasta &gt; unigene.fasta.nonewline</code>。</p></li><li><p>对目录按大小排序：<code>du -h -d 1 | sort -k1hr</code>。</p></li><li><p>Arch Linux滚动更新后，强制装载新的USB驱动，不拔优盘直接起效。当然最简单的方法是重启。<a href="https://askubuntu.com/questions/645/how-do-you-reset-a-usb-device-from-the-command-line" target="_blank" rel="noopener">来源</a>。</p></li></ol><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">sudo modprobe -r usb-storage</span><br><span class="line">sudo modprobe -S 5.0.5-arch1-1-ARCH -f usb-storage</span><br><span class="line">sudo sh -c <span class="string">"echo 0 &gt; /sys/bus/usb/devices/2-14/authorized"</span></span><br><span class="line">sudo sh -c <span class="string">"echo 1 &gt; /sys/bus/usb/devices/2-14/authorized"</span></span><br></pre></td></tr></table></figure><ol start="31"><li><p>成对替换可以用Coreutils里的<code>tr</code>，比如<code>tr 'abcd' 'jkmn'</code>，缺点是不支持UTF-8，遇到中文就完蛋。这个需求可以用<code>sed</code>实现，比如<code>sed 'y/“”/「」/'</code>。<a href="https://unix.stackexchange.com/questions/392035/can-i-use-sed-to-translate-characters-like-with-tr/392036" target="_blank" rel="noopener">来源</a>。</p></li><li><p>Linux的<code>sensors</code>命令可以输出传感器探测到的温度，如何把温度信息和相应的硬件匹配呢？<code>ls -l /sys/dev/block/*</code>。<a href="https://bbs.archlinux.org/viewtopic.php?id=252832" target="_blank" rel="noopener">来源</a>。</p></li></ol><h2 id="自由-开源软件使用经验">自由/开源软件使用经验</h2><ol><li><p>对于大规模的搜索，简单的把<code>grep</code>命令换成<code>ag</code> (当然前提是安装了这个软件)，可以大幅加速搜索速度。还有一个最新的软件<a href="https://github.com/BurntSushi/ripgrep" target="_blank" rel="noopener">ripgrep</a>，据称比ag (The Silver Searcher)更快。</p></li><li><p>Fontconfig的配置文件推荐放在<code>~/.config/fontconfig/fonts.conf</code>里，放在别处是废弃的用法，可能导致出错。</p></li><li><p>Cron脚本不执行的一个可能的原因：Cron脚本不能包含后缀名，如果你不确定写的对不对，可以用<code>run-parts --test /etc/cron.monthly/</code>测试一下。<a href="http://askubuntu.com/questions/23009/reasons-why-crontab-does-not-work/111034#111034" target="_blank" rel="noopener">askubuntu上的解答</a>。</p></li><li><p>Markdown中，用<code>#.</code>代表编号只在<a href="http://pandoc.org/" target="_blank" rel="noopener">pandoc</a>中支持，不要期望它在其他地方获得支持，对于非pandoc的情况用传统的<code>1.</code>是正道。</p></li><li><p>Shadowsocks在服务端打开<a href="https://shadowsocks.org/en/spec/one-time-auth.html" target="_blank" rel="noopener">一次性认证</a>的方法是在配置文件中加入<code>&quot;auth&quot;:true</code>。<a href="/2016/03/11/Shadowsocks-libev-one-time-auth/">详解</a>。</p></li><li><p>MPV如果要批量播放视频，可以在视频所在目录里运行<code>mpv *</code>。</p></li><li><p>可以用ffmpeg合并视频，一个例子是：</p></li></ol><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">ffmpeg -i <span class="string">"Cloud.Atlas.2012.RUS.Blu-Ray.1080p.AC3.x264.mkv"</span> -i <span class="string">"Cloud.Atlas.2012.English.Audio.AC3.DD5.1.448K.Angrybirdy@CHD.ac3"</span> -c copy -map 0:0 -map 1:0 out.mkv</span><br></pre></td></tr></table></figure><ol start="8"><li><p><code>.ts</code>视频可以直接用<code>cat</code>合并。<a href="https://superuser.com/questions/692990/use-ffmpeg-copy-codec-to-combine-ts-files-into-a-single-mp4" target="_blank" rel="noopener">更多关于合并视频的知识</a>。</p></li><li><p>Shadowsocks的“ss-stunnel”是用来进行转发的，数据走的是Shadowsocks的协议，用法类似<code>ss-tunnel.exe -u -c &quot;C:/msys64/etc/shadowsocks/config.json&quot; -L &quot;8.8.8.8:53&quot; -l 53</code>，实现在本地的53端口起一个DNS服务器，而DNS的解析被转发到谷歌的DNS。</p></li><li><p>用Shadowsocks时，如果想把代理分享给局域网的其他电脑，可以在配置文件中加入<code>&quot;local_address&quot;:&quot;0.0.0.0&quot;</code>，这样代理的本地端口就暴露给局域网的其他电脑了。注意这里可能会弹出防火墙的窗口。</p></li><li><p>开启<a href="https://mpv.io/" target="_blank" rel="noopener">MPV</a>硬件加速的方法：在配置文件里写入<code>hwdec=auto</code>。对于Windows，配置文件是<code>%appdata%/mpv/mpv.conf</code>。</p></li><li><p>文档转换的瑞士军刀pandoc的每夜版(nightly)<a href="https://github.com/pandoc-extras/pandoc-nightly/releases" target="_blank" rel="noopener">下载地址</a>，每夜版会修复一些现有版本的Bug。</p></li><li><p>Windows下小巧好用的PDF阅读器SumatraPDF的抢鲜版(prelease)的<a href="https://www.sumatrapdfreader.org/prerelease.html" target="_blank" rel="noopener">下载地址</a>。<a href="/2017/03/07/Remove-highlight-in-SumatraPDF">新版标记功能的介绍</a>。</p></li><li><p>Pandoc的<code>reference-docx</code>和<code>reference-odt</code>参数统一到<code>reference-doc</code>参数上了。</p></li><li><p>Linux平台下，54.x版本以上的Firefox必须安装<a href="https://wiki.archlinux.org/index.php/PulseAudio" target="_blank" rel="noopener">PulseAudio</a>才能听到声音，命令是<code>sudo pacman -S pulseaudio pulseaudio-alsa</code>。</p></li><li><p><a href="http://www.mactype.net/" target="_blank" rel="noopener">MacType</a>的最新版(<a href="https://github.com/snowie2000/mactype/releases/tag/v1.2017.628.0" target="_blank" rel="noopener">v1.2017.628.0</a>)中，如果使用了DirectWrite支持(即<code>DirectWrite=1</code>)，那么，<code>[DirectWrite]</code>中最好<code>RenderingMode=6</code>，否则用DirectWrite的软件，比如Word 2013，效果会非常差。</p></li><li><p>好奇的你可以用<code>objdump -d emacs</code>来反汇编某个程序看里面的秘密，如果你喜欢Intel的汇编语法，可以用<code>objdump -M intel -d emacs</code>。</p></li><li><p>用GCC的时候在<code>CFLAGS</code>加上<code>-ftree-vectorize</code>自动向量化代码。想知道哪些代码被自动优化了？再加上<code>-fopt-info</code>优化的指示就会输出到stderr，用<code>2&gt; /tmp/err.log</code>把它们输出到文件仔细研究吧。</p></li><li><p>curl是比较容易使用Socks5代理的，用<code>--socks5-hostname</code>参数就可以，示例</p></li></ol><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">curl https://chriszheng.science/index.html --socks5-hostname localhost:65500 -O</span><br></pre></td></tr></table></figure><ol start="20"><li><p>用代理<code>git clone</code>的方法：<code>ALL_PROXY=socks5://127.0.0.1:65500 git clone https://github.com/neomutt/neomutt</code>。</p></li><li><p><a href="http://www.info-zip.org/" target="_blank" rel="noopener">UnZip</a>可以解压百度网盘批量下载的zip压缩包，7-zip不行，WinRAR的修复功能也可以让压缩包正常解压。</p></li><li><p><a href="https://github.com/xSAVIKx/AndroidScreencast" target="_blank" rel="noopener">AndroidScreencast</a>可以在电脑上操作安卓手机，而且不需要手机上装软件，原理是用ADB。当然，非常不好用，延迟达到秒级，玩玩就好。</p></li><li><p>接上条，<a href="https://github.com/cxplan/CXTouch" target="_blank" rel="noopener">CXTouch</a>速度更快，需要在手机上安装软件。</p></li><li><p>更快的是<a href="https://github.com/Genymobile/scrcpy" target="_blank" rel="noopener">scrcpy</a>。</p></li><li><p>如果Node的包管理出现问题，可以用激进的方法删除<code>node_modules</code>重新安装。对于*nix系统<code>rm -rf node_modules</code>就可以，在Windows下可能会删除不掉，可以安装在Windows下实现“rm -rf”的包<a href="https://github.com/isaacs/rimraf" target="_blank" rel="noopener">rimraf</a>：<code>npm install rimraf -g</code>，然后<code>rimraf node_modules</code>。<strong>注意，这个包的功能是<code>rm -rf</code>哦。</strong></p></li><li><p>Hexo的包<a href="https://github.com/mamboer/hexo-filter-cleanup" target="_blank" rel="noopener">hexo-filter-cleanup</a>在调试模式不会生效。我一直疑惑为什么调试模式生成的快，原来是因为调试模式不会优化，所以快了很多。</p></li><li><p>编辑<code>/etc/fstab</code>的时候一定要慎重，因为启动的时候系统会默认挂这些分区，如果找不到，启动失败。</p></li><li><p>播放器<a href="https://mpv.io/" target="_blank" rel="noopener">mpv</a>如果不想要看输出可以加参数<code>--no-terminal</code>。</p></li><li><p>用Emacs的Tramp连接到运行<a href="https://busybox.net/about.html" target="_blank" rel="noopener">BusyBox</a>的路由时会遇到连不上的问题，在路由上安装<code>coreutils-stty</code>就好啦。原因是因为精简的BusyBox很可能不带<code>stty</code>命令，而Tramp又依赖它，所以反复出错。</p></li><li><p>衍生自Firefox的浏览器<a href="http://kmeleonbrowser.org" target="_blank" rel="noopener">K-Meleon</a>会连接到官网自动更新，如果官网挂了，比如像今天这样，软件就会崩溃。禁用自动更新就好了，禁用方法是<code>偏好设置→K-Meleon插件</code>中禁用<code>检查更新</code>。</p></li><li><p>最近用上了<a href="https://github.com/tmux/tmux/" target="_blank" rel="noopener">tmux</a>，有种相见恨晚的感觉，以下两条配置很好用，可以放到<code>~/.tmux.conf</code></p></li></ol><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">set -g mouse on</span><br><span class="line">set -g status-right &#39; #&#123;?client_prefix,#[reverse]&lt;Prefix&gt;#[noreverse] ,&#125;&quot;#&#123;&#x3D;21:pane_title&#125;&quot; %H:%M %d-%b-%y&#39;</span><br></pre></td></tr></table></figure><p><a href="https://stackoverflow.com/questions/11832199/tmux-set-g-mouse-mode-on-doesnt-work/42332679" target="_blank" rel="noopener">来源1</a>。<a href="https://stackoverflow.com/questions/12003726/give-a-hint-when-press-prefix-key-in-tmux" target="_blank" rel="noopener">来源2</a>。</p><ol start="32"><li><p>Windows下使用Firefox还是必须得用Flash，而第三方修改过的Flash比原始版的好。火狐吧的文科一直维护去沙箱版Flash，下载地址<br> <a href="https://pan.baidu.com/s/1boVSQXx#list/path=%2F" target="_blank" rel="noopener">https://pan.baidu.com/s/1boVSQXx#list/path=%2F</a><br> 另外一位朋友维护的<br> <a href="https://bbs.kafan.cn/thread-1839722-1-1.html" target="_blank" rel="noopener">https://bbs.kafan.cn/thread-1839722-1-1.html</a></p></li><li><p>开源看图软件<a href="https://nomacs.org" target="_blank" rel="noopener">nomacs</a>还挺好用。</p></li><li><p><a href="https://mirrors.tuna.tsinghua.edu.cn/help/termux/" target="_blank" rel="noopener">Termux使用国内的清华源的方法</a>。</p></li><li><p>让Termux不震动的方法是改配置，方法见<a href="https://termux.com/configuration.html" target="_blank" rel="noopener">配置文件的手册</a>。</p></li><li><p>在Windows环境下使用mutt看HTML邮件：</p></li></ol><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"># ~&#x2F;.mutt&#x2F;muttrc</span><br><span class="line">auto_view text&#x2F;html</span><br><span class="line">alternative_order text&#x2F;plain text&#x2F;html</span><br><span class="line"># ~&#x2F;.mailcap</span><br><span class="line">text&#x2F;html; &quot;&#x2F;C&#x2F;Program Files&#x2F;Mozilla Firefox&#x2F;firefox&quot; &quot;$(cygpath -w %s)&quot; &amp;&amp; sleep 2; nametemplate&#x3D;%s.html; copiousoutput</span><br></pre></td></tr></table></figure><ol start="37"><li>ImageMagick可以重设图片的DPI，方法是</li></ol><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">convert -units PixelsPerInch 输入图片.png -density 600 -trim 输出图片名.png</span><br></pre></td></tr></table></figure><p>顺带演示了<code>-trim</code>去白边。</p><ol start="38"><li><p>Git可以用<code>.git/info/exclude</code>代替<code>.gitignore</code>来忽略本地文件，这种方法不必提交到远程。<a href="http://mbork.pl/2018-10-14_Magit_and_C-u_i" target="_blank" rel="noopener">来源</a>。</p></li><li><p>下载用于win64平台的最新版Firefox：<br> <a href="https://download.mozilla.org/?product=firefox-latest&amp;os=win64&amp;lang=zh-CN" target="_blank" rel="noopener">https://download.mozilla.org/?product=firefox-latest&amp;os=win64&amp;lang=zh-CN</a></p></li><li><p>正确的用ffmpeg截取视频的方法：</p></li></ol><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">ffmpeg.exe -ss 1:8:57 -i <span class="string">"阿凡达 Avatar Extended Collector's Edition 2009 BluRay 1080p DTS x264-CnSCG.mkv"</span> -t 12 -c copy a.mkv</span><br></pre></td></tr></table></figure><p>注意，这里必须写时间长度，用<code>-t</code>。</p><ol start="41"><li><p>如果VirtualBox的VDI文件是动态大小，占用空间变大了，可以在虚拟机的系统里用<a href="http://technet.microsoft.com/en-us/sysinternals/bb897443" target="_blank" rel="noopener">SDelete</a>命令清理自由空间：<code>sdelete.exe c: -z</code>，然后用VBoxManage的<code>vboxmanage modifymedium --compact thedisk.vdi</code>来压缩。<a href="https://superuser.com/questions/529149/how-to-compact-virtualboxs-vdi-file-size" target="_blank" rel="noopener">来源</a>。</p></li><li><p>ffmpeg合并字幕并且设为默认</p></li></ol><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">ffmpeg -i in.mp4 -i in.srt -c copy -disposition:s:0 default out.mkv</span><br></pre></td></tr></table></figure><p><a href="https://stackoverflow.com/questions/26956762/ffmpeg-set-subtitles-track-as-default" target="_blank" rel="noopener">来源</a>。</p><ol start="43"><li><p>统计汉字的字数<code>wc -m *.md</code>。</p></li><li><p>抓取<code>m3u8</code>形式的在线视频：</p></li></ol><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">ffmpeg -user_agent <span class="string">"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_9_5) AppleWebKit/601.7.8 (KHTML, like Gecko) Version/9.1.3 Safari/537.86.7"</span> -i http://185.38.12.60/sec/1503173737/363333397f6b65370bfc740ca4dea8c3f8dd2a93419f7748/ivs/12/b1/2ec5e15ba2a6/hls/tracks-4,5/index.m3u8 -c copy pd.mkv</span><br></pre></td></tr></table></figure><p><a href="https://apple.stackexchange.com/questions/158360/how-to-download-m3u8-stream-to-local-hd-in-os-x" target="_blank" rel="noopener">来源</a>。</p><ol start="45"><li>把图片转成视频：</li></ol><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">ffmpeg -framerate 12 -i <span class="string">"a_%03d.bmp"</span> -vcodec libx264 -crf 1 -preset slow -vframes 1000 -pix_fmt yuv420p a.mp4</span><br></pre></td></tr></table></figure><ol start="46"><li><p>用mpv播放网络音频容易断，加上<code>--stream-lavf-o=reconnect_streamed=1</code>参数可以自动重新连接。播放网络音频默认的超时值是1分钟。<a href="https://github.com/mpv-player/mpv/issues/5793" target="_blank" rel="noopener">出处</a>。</p></li><li><p>用neomutt可以设置编辑器，比如把<code>set editor = 'emacsclient -a &quot;&quot;'</code>写到配置文件里。<strong>注意</strong>，不要加上<code>-n</code>，因为那样会立即退出，neomutt会认为你没有写内容而放弃寄信。</p></li><li><p>MSYS2更新<code>msys2-runtime</code>包的时候会提示关闭其他的MSYS2程序(terminate other MSYS2 programs before proceeding)，一定要照做，否则会出错。错误的原因是，Windows支持延迟写入，到的动态链接库(DLL文件)如果在使用，新的文件不会覆盖老的，再运行新程序，用的还是老的DLL，新程序加老动态链接库很可能会出错。</p></li><li><p><a href="https://unix.stackexchange.com/questions/388518/how-to-tell-if-a-logical-volume-is-striped" target="_blank" rel="noopener">列出lvm逻辑卷的详细信息</a>。</p></li></ol><h2 id="科学相关软件技巧">科学相关软件技巧</h2><ol><li><p>用<span style="font-family:URW Gothic!important">ORCA</span>计算金属配合物遇到SCF不收敛的情况，可以使用<code>! SlowConv</code>，如果不行可以试试<code>! KDIIS</code>。<a href="/2016/12/22/Solving-SCF-creep-in-QM-calculation-of-metal-complexes-and-the-efficacy-of-itopride-hydrochloride/">更多信息</a>。</p></li><li><p>Octave里在向量最后增加一个元素的写法是<code>a(end + 1) = 5;</code>，删除最后一个元素的写法是<code>a(end) = [];</code>。<a href="https://www.gnu.org/software/octave/doc/interpreter/Index-Expressions.html#Index-Expressions" target="_blank" rel="noopener">手册里的解释</a>。</p></li><li><p>求<a href="http://vina.scripps.edu/" target="_blank" rel="noopener">AutoDock Vina</a>输出结果的平均值，：</p></li></ol><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">(<span class="keyword">for</span> f <span class="keyword">in</span> *.<span class="built_in">log</span>; <span class="keyword">do</span> 	<span class="built_in">echo</span> -n <span class="string">"<span class="variable">$&#123;f&#125;</span>: "</span>; 	awk <span class="string">'/^[ ]+[1-9]+/ &#123;n++;sum+=$2&#125; END &#123;print n?sum/n:0&#125;'</span> <span class="variable">$&#123;f&#125;</span>; <span class="keyword">done</span>) &gt; /tmp/a.log</span><br></pre></td></tr></table></figure><ol start="4"><li><p>When Octave fail to plot a figure, run the magical <code>close all</code>. I struggled with this issue for a long time.<br> 如果Octave的画图功能不能正常工作，运行神奇的<code>close all</code>。这个问题困扰我很久了，只有在Emacs里用Octave才会遇到。这条经验也<a href="https://lists.gnu.org/archive/html/help-octave/2018-04/msg00075.html" target="_blank" rel="noopener">分享到help-octave邮件列表了</a>。</p></li><li><p>从兼容性方面考虑，Octave导出SVG格式的图片是比较好的选择，缺点是不太好编辑了。话说回来，PostScript也不是为了编辑而产生了。</p></li><li><p>用<code>mpif90</code>编译的时候会报<code>Illegal preprocessor directive</code>，因为默认不进行预处理，<code>FCFLAGS = -cpp</code>可以解决。</p></li><li><p>Jmol/JSmol获取高质量截图：<code>write IMAGE 1920 1920 PNGT n &quot;6.png&quot;</code>。</p></li><li><p>Octave里要用LaTeX语法必须用单引号，<code>xlabel('{\it d}(C–Cl) in Å')</code>。来源：<a href="https://octave.org/doc/v5.1.0/Use-of-the-interpreter-Property.html" target="_blank" rel="noopener">手册里有</a>，我觉得这句话应该强调。</p></li></ol><h2 id="商业软件技巧">商业软件技巧</h2><ol><li><p>在MS Word中，<code>=rand(8, 10)</code>可以生成随机的文字，<code>=lorem(8, 10)</code>生成的是Lorem ipsum。<a href="/2016/06/10/Generate-random-sentences-in-MS-Word/">详解</a>。</p></li><li><p>MS Word里用<code>Ctrl + *</code>(实际是<code>Ctrl + Shift + 8</code>)可以显示额外的格式符号，比如空格用<code>·</code>表示，对于一些编辑工作可能有用。(Emacs里等价的功能是<code>M-x whitespace-mode</code>)。</p></li><li><p>永久性的将Word的宏转为文字：<code>Ctrl+Shift+F9</code>。<a href="https://books.google.com/books?id=f3mHWFUSwr0C&amp;pg=PA272&amp;lpg=PA272&amp;dq=Word+%E5%9F%9F%E4%BB%A3%E7%A0%81+%E8%BD%AC%E4%B8%BA%E6%96%87%E5%AD%97&amp;source=bl&amp;ots=FXzB28uhL7&amp;sig=ZItDnX7RteZC74uHZQGOcXjN4HY&amp;hl=en&amp;sa=X&amp;ved=0ahUKEwj7xu_swMjSAhUmilQKHQoyAxIQ6AEIQzAF#v=onepage&amp;q=Word%20%E5%9F%9F%E4%BB%A3%E7%A0%81%20%E8%BD%AC%E4%B8%BA%E6%96%87%E5%AD%97&amp;f=false" target="_blank" rel="noopener">出处</a>。</p></li><li><p>Acrobat XI的11.0.1以上版才能和Word 2013兼容，直接安装的11.0.0是不行的，必须先升级。<a href="https://helpx.adobe.com/acrobat/kb/compatible-web-browsers-pdfmaker-applications.html#main_PDFMaker_compatible_applications" target="_blank" rel="noopener">各版本的兼容情况</a>。</p></li><li><p>要想在Windows下使用UTF-8的，要么用Emacs等软件，通过管道传递，要么就在命令提示符里用chcp改代码页(<code>chcp 65001</code>)，直接用使用命令，包括API调用，肯定会失败。<a href="/2015/09/24/Prefer-UTF-8-in-MS-Windows/">在MS-Windows平台下使用UTF-8编码</a>。</p></li><li><p>Word的选项里面，显示-打印选项里面，有“<strong>打印文档属性</strong>”一项，如果选上了，打印的时候会多一页，一定不要选。这个毛病非常难以排查，设置的位置又非常隐秘。</p></li><li><p>Excel怎么固定多个行和多个列呢？选中你要固定的行和列的「下一个」单元格，比如你想固定2行和1列，那么你应该选B3，然后视图-冻结窗口，就好了。如果我一直看百度出来的教程我是不会知道这个技巧的。</p></li><li><p>Excel里统计非空的列和行<code>=COUNTA()</code>。</p></li><li><p>Word里不能插入特别大的图片。</p></li><li><p>小米的解锁工具带一个ADB驱动。官方提供的驱动签名都过期了。小米药丸。</p></li><li><p>Acrobat XI的PDFMaker插件在Word里不能加载，修复重装等方法是不行的，需要修改注册表<code>HKEY_CURRENT_USER\Software\Microsoft\Office\Word\Addins\PDFMaker.OfficeAddin</code>的<code>LoadBehavior</code>，改成3，就好了。<a href="https://helpx.adobe.com/cn/acrobat/kb/pdfmaker-unavailable-office-2007-office.html" target="_blank" rel="noopener">官方的解决方案</a>。</p></li></ol><h2 id="移动端相关">移动端相关</h2><ol><li><p>对于MIUI 8，开启开发者模式后，选择不使用锁屏界面，就不用看锁屏画报了。<a href="/2016/12/04/I-am-a-Mi-fan/">我之前写过</a>。</p></li><li><p>下载用于Android的最新版Firefox：<br> <a href="https://download.mozilla.org/?product=fennec-latest&amp;os=android&amp;lang=multi" target="_blank" rel="noopener">https://download.mozilla.org/?product=fennec-latest&amp;os=android&amp;lang=multi</a></p></li><li><p>红米手机用MTP模式传文件，文件显示不全？重启试试。</p></li></ol><h2 id="网络相关技巧">网络相关技巧</h2><ol><li><p>为了移动端友好没有必要在robots.txt中禁止抓取CSS等文件。<a href="/2016/09/15/No-need-to-disallow-CSS-files/">详解</a>。</p></li><li><p>同一个域名下混合使用HTTP和HTTPS会导致很多问题，不要这样。<a href="/2017/01/13/Use-Yaaw-in-HTTPS-environment/">一个我的折腾实例</a>。</p></li><li><p>批量复制URL的Firefox扩展<a href="https://addons.mozilla.org/en-US/firefox/addon/copy-link-url/?src=ss" target="_blank" rel="noopener">Copy Link URL</a>。</p></li><li><p>网站<a href="https://gtmetrix.com/" target="_blank" rel="noopener">https://gtmetrix.com/</a>可以对网页进行测速，方便优化网站。谷歌的<a href="https://developers.google.com/speed/pagespeed/insights/" target="_blank" rel="noopener">PageSpeed Insights</a>也是个好工具。</p></li><li><p>可以通过添加<code>rel</code>确认你是链接的所有者，添加的链接类似这样<code>&lt;a rel=&quot;me&quot; href=&quot;https://mastodon.sdf.org/@chriszheng&quot;&gt;Mastodon&lt;/a&gt;</code>，这样在Mastodon的资料页里链接会变<span style="color:#79bd9a">绿</span>。</p></li><li><p><a href="https://support.mozilla.org/zh-CN/questions/1218110" target="_blank" rel="noopener">Firefox 60+版本移除了查看Cookie的功能</a>，解决方案是<a href="https://developer.mozilla.org/zh-CN/docs/Tools/%E5%AD%98%E5%82%A8%E6%9F%A5%E7%9C%8B%E5%99%A8" target="_blank" rel="noopener">用存储查看器</a>，快捷键是<code>Shift+F9</code>。</p></li></ol><h2 id="软硬件折腾">软硬件折腾</h2><ol><li><p>除非有好的设备并且非常认真听，320 Kbps的音质已经足够好了。<a href="/2015/06/27/320-Kbps-is-good-enough/">我的经验</a>。</p></li><li><p>Wifi常见的协议按从旧到新的顺序是：<code>802.11b &lt; 802.11g &lt; 802.11n &lt; 802.11ac</code>，目前<code>802.11ac</code>就是比较新协议了。</p></li><li><p>一些无线网卡，比如我用的比较坑的Intel的<a href="https://www.cnet.com/products/intel-centrino-wireless-n-2230-network-adapter-series/specs/" target="_blank" rel="noopener">N 2230</a>，会出现使用<code>802.11n</code>不稳定的情况，这种时候可以在网卡的设置里面禁用<code>802.11n</code>协议，这样速度会慢一些(理论最大速度下载速度从37 M/s降低到6 M/s)，稳定性会有很大的提升，而且大多数时候出口带宽没有那么高(也就是说你的下载速度根本就不会大于6 M/s)，就算协议能支持也对你没有用。这条经验比较啰嗦，希望看的人能明白。</p></li><li><p>Intel Core架构的顺序是：Nehalem、Sandy Bridge、Ivy Bridge、Haswell、Broadwell、Skylake、Kaby Lake。<a href="https://en.wikipedia.org/wiki/Intel_Core" target="_blank" rel="noopener">出处</a>。</p></li><li><p>今天解答了我4年前在笔记本上装双系统的一个疑惑：如果电脑是以Legacy模式引导的，那么Windows的安装程序只能安装到MBR分区上，而以UEFI模式时只能安装到GPT分区上，即<code>BIOS–MBR</code>以及<code>UEFI–GPT</code>是绑定的，二选一。这是Windows的限制。<a href="https://wiki.archlinux.org/index.php/Dual_boot_with_Windows#Bootloader_UEFI_vs_BIOS_limitations" target="_blank" rel="noopener">出处</a>。</p></li></ol></div><div id="donate"><link rel="stylesheet" type="text/css" href="/css/donate.css"><script type="text/javascript" src="/js/donate.js" successtext="复制成功!"></script><a class="pos-f tr3" id="github" href="https://github.com/zklhp/" target="_blank" rel="noopener" arget="_blank" title="Github"></a><div id="DonateText">Donate</div><ul class="list pos-f" id="donateBox"><li id="PayPal"><a href="https://paypal.me/ChrisZheng99" target="_blank"></a></li><li id="AliPay" qr="/img/My-AliPayQR.png"></li><li id="WeChat" qr="/img/My-WeChatQR.png"></li></ul><div class="pos-f left-100" id="QRBox"><div id="MainBox"></div></div></div><div class="post-copyright"><script type="text/javascript" src="/js/copyright.js" successtext="复制成功!"></script><link rel="stylesheet" type="text/css" href="/css/copyright.css"><p><span>本文标题：</span>我的一句话经验——软件篇</p><p><span>文章作者：</span>Chris</p><p><span>发布时间：</span>2017-01-02</p><p><span>最后更新：</span>2020-07-03</p><p><span>原始链接：</span><a href="/2017/01/02/One-sentence-tips-on-software/">https://chriszheng.science/2017/01/02/One-sentence-tips-on-software/</a><span class="copy-path"><i class="fa fa-clipboard" data-clipboard-text="https://chriszheng.science/2017/01/02/One-sentence-tips-on-software/"></i></span></p><p><span>版权声明：</span>本博客所有文章除特别声明外，均采用 <a href="https://creativecommons.org/licenses/by/4.0/deed.zh" rel="external nofollow" target="_blank">CC BY 4.0</a> 许可协议。转载请注明出处！</p></div><br><script type="text/javascript">!function(h){h("body").on("click",function(){h(".article-share-box.on").removeClass("on")}).on("click",".article-share-link",function(e){e.stopPropagation();var t=h(this),a=t.attr("data-url"),i=t.attr("data-qrcode"),r=encodeURIComponent(a),o="article-share-box-"+t.attr("data-id"),s=document.title,c=t.offset();if(h("#"+o).length){if((n=h("#"+o)).hasClass("on"))return void n.removeClass("on")}else{var l=['<div id="'+o+'" class="article-share-box">','<input class="article-share-input" value="'+a+'">','<div class="article-share-links">','<a href="//twitter.com/intent/tweet?url='+r+'" class="article-share-twitter" target="_blank" title="Twitter"></a>','<a href="//www.facebook.com/sharer.php?u='+r+'" class="article-share-facebook" target="_blank" title="Facebook"></a>','<a href="//service.weibo.com/share/share.php?title='+s+"&url="+r+'&searchPic=true&style=number" class="article-share-weibo" target="_blank" title="Weibo"></a>','<a href="'+i+'" class="article-share-qrcode" target="_blank" title="QR code"></a>','<div class="qrcode"><img src='+i+"></div>","</div>","</div>"].join(""),n=h(l);h("body").append(n)}h(".article-share-box.on").hide(),n.css({top:c.top+25,left:c.left}).addClass("on")}).on("click",".article-share-box",function(e){e.stopPropagation()}).on("click",".article-share-box-input",function(){h(this).select()}).on("click",".article-share-box-link",function(e){e.preventDefault(),e.stopPropagation(),window.open(this.href,"article-share-box-window-"+Date.now(),"width=500,height=450")})}(jQuery)</script><a class="article-share-link" data-url="https://chriszheng.science/2017/01/02/One-sentence-tips-on-software/" data-id="ck9k0vuvb006l10bp5hvx46ae" data-qrcode="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAN4AAADeCAAAAAB3DOFrAAACtElEQVR42u3dwWojMRAE0Pz/T+9eF8w4Vd1S4oU3p2A0M3oySHK1IF9f8fXnn+v1k9fPn+7dtH9teezCw8PDW3T9fSfev+CpzRMmZySD+9hDPDw8vGu8p+62bfLr/RAnQ/O+P3h4eHifw0u2ubNnJvthPDw8vP+R1/7qn3U6XyTw8PDwfos3C1s3sW/e9R/KWvDw8PAuVJE+5+8r9T08PDy8dVV9tki0U3xeQqt7i4eHh3eBNwsa8lfODl0lsUVxfAEPDw/vKO/UNJ0HFvmikrd/bIOHh4d3gbeZiNsIdRMKb+7Cw8PDO8vLp9128ZhtiJO78oUKDw8P7x5vM8W3U3mLT5DFBhoPDw/vKK8NZ5PSVx7stndFXw8eHh7eBd4sYJ1tefNnzo5bHQgm8PDw8AJevuVtOzorpOVLSBSI4OHh4V3jbSbu9pN8KC+GEXh4eHgLXh4iJAORl8H2YUTeNzw8PLyzvBaQhLBtm3wJqQMLPDw8vAu8PJLIHzdbQvIn518PHh4e3j1ePpfOimSzY17JNr2IdPHw8PCO8vIQYT+J53flA/RNqQwPDw/vKC8PRpPt8qmloi2S1VkLHh4e3nYXeuxfJeUBRxt5bOJdPDw8vHu8fNI/VfLPB6JdfupfBnh4eHiHeGeDg1mxrT2g8Ji14OHh4V3g5UX6Vdm+LIMdqOnh4eHh/Qgvh81ankpZj50pw8PDwxvx8u1vHrnmA9fGvsWFh4eHdxk2O0bQImfhRR6aFIeu8PDw8Ere2Tl2U6xqO73C4OHh4a15badnpLNLTl6ow8PDw7vHy0OHWRS7KmItjmTh4eHhfQIvWTZmYXFbbIvejoeHh/cBvM2mvI10k7fU6wYeHh7eId6sc+1CkkQMbXRbH7rCw8PDW/NmP/jbyLWNZWcHwlb1PTw8PLzveX8BaTppzm9bNisAAAAASUVORK5CYII=">分享</a><div class="tags"><a href="/tags/%E4%B8%80%E5%8F%A5%E8%AF%9D/"><i class="fa fa-tag"></i>一句话</a></div><div class="post-nav"><a class="pre" href="/2017/01/02/A-joke-about-a-stingy-person/">一个人，花九万买了一辆车之后……</a><a class="next" href="/2016/12/31/Happy-New-Year/">新年新气象</a></div><div id="disqus_thread"><script type="text/javascript" src="/js/disqus.js"></script><script type="text/javascript">var dsqjs=new DisqusJS({shortname:"chris-an-emacser",siteName:"M-x Chris-An-Emacser",identifier:"2017/01/02/One-sentence-tips-on-software/",url:"https://chriszheng.science/2017/01/02/One-sentence-tips-on-software/",title:"我的一句话经验——软件篇",api:"https://disqus.skk.moe/disqus/",apikey:"jVxAv28vcEwlLnAb7eXSz5hvxRT0o4VPX50vlpmCrxFzDZB4diszy8SS0a9yBJAT",admin:"disqus_5MXlSWVCDu",adminLabel:"Mod"})</script><script type="text/javascript" id="disqus-count-script">$(function(){var n=new XMLHttpRequest;n.open("GET","//disqus.com/next/config.json",!0),n.timeout=2500,n.onreadystatechange=function(){if(4===n.readyState&&200===n.status){$(".post-meta .post-comments-count").show();var t=document.createElement("script");t.id="dsq-count-scr",t.src="https://chris-an-emacser.disqus.com/count.js",t.async=!0,(document.head||document.body).appendChild(t)}},n.ontimeout=function(){n.abort()},n.send(null)})</script></div></div></div></div><div class="pure-u-1-4 hidden_mid_and_down"><div id="sidebar"><div class="widget"><div class="search-form"><input id="local-search-input" placeholder="Search" type="text" name="q" results="0"><div id="local-search-result"></div></div></div><div class="widget"><div class="widget-title"> <i class="fa fa-folder-o">分类</i></div><ul class="category-list"><li class="category-list-item"><a class="category-list-link" href="/categories/Emacs/">Emacs</a><span class="category-list-count">38</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/Emacs%E5%B0%8F%E6%8A%80%E5%B7%A7/">Emacs小技巧</a><span class="category-list-count">50</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/Firefox/">Firefox</a><span class="category-list-count">16</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/Hexo/">Hexo</a><span class="category-list-count">10</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/Shadowsocks/">Shadowsocks</a><span class="category-list-count">6</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/VPS/">VPS</a><span class="category-list-count">10</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/%E4%B8%80%E5%8F%A5%E8%AF%9D%E7%BB%8F%E9%AA%8C/">一句话经验</a><span class="category-list-count">3</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/%E5%88%86%E4%BA%AB/">分享</a><span class="category-list-count">44</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/%E5%90%8D%E8%A8%80%E5%88%86%E4%BA%AB/">名言分享</a><span class="category-list-count">18</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/%E5%AD%97%E4%BD%93%E6%8E%92%E5%8D%B0/">字体排印</a><span class="category-list-count">21</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/%E6%91%84%E5%BD%B1%E4%BD%9C%E5%93%81/">摄影作品</a><span class="category-list-count">2</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/%E6%96%87%E5%AD%A6%E4%BD%9C%E5%93%81/">文学作品</a><span class="category-list-count">3</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/%E7%A7%91%E5%AD%A6%E7%A0%94%E7%A9%B6/">科学研究</a><span class="category-list-count">21</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/%E7%AC%91%E8%AF%9D%E6%AE%B5%E5%AD%90/">笑话段子</a><span class="category-list-count">16</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/%E7%BB%8F%E9%AA%8C%E5%88%86%E4%BA%AB/">经验分享</a><span class="category-list-count">41</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/%E7%BC%96%E7%A8%8B%E6%8A%80%E6%9C%AF/">编程技术</a><span class="category-list-count">16</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/%E7%BD%91%E7%AB%99%E4%BF%A1%E6%81%AF/">网站信息</a><span class="category-list-count">11</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/%E8%BF%91%E6%80%9D%E5%BD%95/">近思录</a><span class="category-list-count">31</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/%E9%97%B2%E8%A8%80%E7%A2%8E%E8%AF%AD/">闲言碎语</a><span class="category-list-count">49</span></li></ul></div><div class="widget"><div class="widget-title"> <i class="fa fa-star-o">标签</i></div><div class="tagcloud"><a href="/tags/%E9%97%B2%E8%A8%80%E7%A2%8E%E8%AF%AD/" style="font-size:15.56px">闲言碎语</a> <a href="/tags/%E7%A7%91%E7%A0%94/" style="font-size:10px">科研</a> <a href="/tags/%E8%80%81%E5%8F%B8%E6%9C%BA/" style="font-size:10px">老司机</a> <a href="/tags/%E7%BB%8F%E9%AA%8C/" style="font-size:13.33px">经验</a> <a href="/tags/DNS/" style="font-size:10px">DNS</a> <a href="/tags/%E5%90%8D%E4%BA%BA%E5%90%8D%E8%A8%80/" style="font-size:16.67px">名人名言</a> <a href="/tags/%E6%B5%81%E9%87%8F/" style="font-size:10px">流量</a> <a href="/tags/320-Kbps/" style="font-size:10px">320 Kbps</a> <a href="/tags/Mew/" style="font-size:11.11px">Mew</a> <a href="/tags/Emacs/" style="font-size:20px">Emacs</a> <a href="/tags/%E6%8A%80%E5%B7%A7/" style="font-size:14.44px">技巧</a> <a href="/tags/%E9%82%AE%E4%BB%B6/" style="font-size:10px">邮件</a> <a href="/tags/7zip/" style="font-size:10px">7zip</a> <a href="/tags/%E7%9B%AE%E5%BD%95/" style="font-size:10px">目录</a> <a href="/tags/%E5%A3%81%E7%BA%B8/" style="font-size:12.22px">壁纸</a> <a href="/tags/Org-mode/" style="font-size:11.11px">Org-mode</a> <a href="/tags/%E6%90%9E%E7%AC%91/" style="font-size:11.11px">搞笑</a> <a href="/tags/%E5%8D%9A%E5%AE%A2/" style="font-size:13.33px">博客</a> <a href="/tags/%E5%88%86%E4%BA%AB/" style="font-size:18.89px">分享</a> <a href="/tags/%E6%AE%B5%E5%AD%90/" style="font-size:17.78px">段子</a></div></div><div class="widget"><div class="widget-title"> <i class="fa fa-external-link">友情链接</i></div><ul></ul><a href="https://bandwagonhost.com/aff.php?aff=3069" title="便宜好用的搬瓦工(含推广)" target="_blank">便宜好用的搬瓦工(含推广)</a><ul></ul><a href="http://www.vultr.com/?ref=7184966" title="支持小时收费的vultr (含推广)" target="_blank">支持小时收费的vultr (含推广)</a><ul></ul><a href="https://gitee.com/chriszheng/Blog" title="帖子的md文件" target="_blank">帖子的md文件</a><ul></ul><a href="https://gitee.com/chriszheng/dotEmacs" title="我的Emacs配置" target="_blank">我的Emacs配置</a><ul></ul><a href="https://chriszheng.science/" title="M-x Chris-An-Emacser" target="_blank">M-x Chris-An-Emacser</a><ul></ul><a href="http://chriszheng.oschina.io/" title="OSChina上的镜像" target="_blank">OSChina上的镜像</a><ul></ul><a href="http://chriszheng.gitee.io/" title="OSChina上的镜像" target="_blank">OSChina上的镜像</a><ul></ul><a href="https://zklhp.github.io/" title="GitHub上的镜像" target="_blank">GitHub上的镜像</a><ul></ul><a href="https://mastodon.sdf.org/@chriszheng" rel="me" title="@chriszheng@mastodon.sdf.org" target="_blank">@chriszheng@mastodon.sdf.org</a><ul></ul><a href="https://github.com/emacs-china/blogroll" title="emacs-china/blogroll" target="_blank">emacs-china/blogroll</a><ul></ul><a href="https://github.com/RSS-Renaissance/awesome-blogCN-feeds" title="优质的「独立中文博客」订阅列表" target="_blank">优质的「独立中文博客」订阅列表</a><ul></ul><a href="https://cireu.github.io/" title="NIL" target="_blank">NIL</a><ul></ul><a href="http://jerry011235.github.io/" title="璀璨星空" target="_blank">璀璨星空</a><ul></ul><a href="https://funix.cn/" title="Funix's blog" target="_blank">Funix's blog</a><ul></ul><a href="http://www.geekplux.com/" title="GeekPlux" target="_blank">GeekPlux</a><ul></ul><a href="http://www.lijigang.com/" title="lijigang" target="_blank">lijigang</a><ul></ul><a href="http://zilongshanren.com/" title="子龙山人" target="_blank">子龙山人</a><ul></ul><a href="http://blog.lujun9972.win/" title="暗无天日" target="_blank">暗无天日</a><ul></ul><a href="http://kelvinh.github.io/" title="Kelvin的胡言乱语" target="_blank">Kelvin的胡言乱语</a><ul></ul><a href="http://emacs-china.org/" title="Emacs China" target="_blank">Emacs China</a><ul></ul><a href="https://tiexo.github.io/" title="简单可依赖" target="_blank">简单可依赖</a><ul></ul><a href="http://jetyu.me/" title="Jet’s Notes" target="_blank">Jet’s Notes</a><ul></ul><a href="http://bbs.keinsci.com/?fromuid=4772" title="计算化学公社(含推广)" target="_blank">计算化学公社(含推广)</a><ul></ul><a href="https://chempeng.github.io/" title="Chem_peng" target="_blank">Chem_peng</a><ul></ul><a href="https://urzz.me/" title="瘫曲的Blog" target="_blank">瘫曲的Blog</a><ul></ul><a href="http://hongludianxue.com/" title="红炉点雪" target="_blank">红炉点雪</a><ul></ul><a href="https://macplay.github.io/" title="MacPlay" target="_blank">MacPlay</a><ul></ul><a href="https://lengyueyang.github.io/" title="深度识医" target="_blank">深度识医</a><ul></ul><a href="http://kevinjiang.info/" title="(power up)" target="_blank">(power up)</a><ul></ul><a href="https://www.jianshu.com/u/390b177189f0" title="QQ群友「七月流火」的Blog" target="_blank">QQ群友「七月流火」的Blog</a><ul></ul><a href="https://ditou.org/" title="低头族" target="_blank">低头族</a><ul></ul><a href="http://xiaoyan.work/" title="小焱" target="_blank">小焱</a><ul></ul><a href="http://sdf-cn.org/" title="SDF公众Unix服务器中文站" target="_blank">SDF公众Unix服务器中文站</a></div></div></div><div class="pure-u-1 pure-u-md-3-4"><div id="footer">Copyright © 2020 <a href="/." rel="nofollow">M-x Chris-An-Emacser.</a> Powered by <a rel="nofollow" target="_blank" href="https://hexo.io">Hexo.</a> <a rel="nofollow" target="_blank" href="https://github.com/tufu9441/maupassant-hexo">Theme</a> by <a rel="nofollow" target="_blank" href="https://github.com/pagecho">Cho.</a> UV/PV: <span id="busuanzi_value_site_uv">|</span> / <span id="busuanzi_value_site_pv">|</span> .</div></div></div><script type="text/javascript" src="//cdn.jsdelivr.net/npm/@fancyapps/fancybox@3.5.7/dist/jquery.fancybox.min.js" async></script><script type="text/javascript">$(document).ready(function(){$("img").each(function(){if(!$(this).parent().hasClass("fancybox")&&!$(this).hasClass("nofancybox")){var a=this.alt;a&&$(this).after('<span class="caption">'+a+"</span>"),$(this).wrap('<a href="'+(null==$(this).attr("data-src")?this.src:$(this).attr("data-src"))+'" title="'+a+'" class="fancybox"></a>')}}),$(this).find(".fancybox").each(function(){$(this).attr("rel","article")})}),$(document).ready(function(){$("a[href$='.jpg'],a[href$='.png'],a[href$='.gif'],a[href$='.webp']").attr("rel","gallery").fancybox({helpers:{title:{type:"inside"}}})})</script><link rel="stylesheet" type="text/css" href="//cdn.jsdelivr.net/npm/@fancyapps/fancybox@3.5.7/dist/jquery.fancybox.min.css"><script>window.jQuery||(document.write(decodeURI('%3Cscript src="/js/jquery.fancybox.min.js" type="text/javascript"%3E%3C/script%3E')),document.write('<link rel="stylesheet" type="text/css" href="/css/jquery.fancybox.min.css">'))</script><script type="text/javascript">var searchFunc=function(t,a,i){"use strict";$.ajax({url:t,dataType:"xml",success:function(t){var e=$("entry",t).map(function(){return{title:$("title",this).text(),content:$("content",this).text(),url:$("url",this).text()}}).get(),n=document.getElementById(a),r=document.getElementById(i);n.addEventListener("input",function(){var f='<ul class="search-result-list">',m=this.value.trim().toLowerCase().split(/[\s\-]+/);r.innerHTML="",this.value.trim().length<=0||(e.forEach(function(t){var n=!0,r=t.title.trim().toLowerCase(),a=t.content.trim().replace(/<[^>]+>/g,"").toLowerCase(),e=t.url,i=-1,s=-1,l=-1;if(""!=r&&""!=a&&m.forEach(function(t,e){i=r.indexOf(t),s=a.indexOf(t),i<0&&s<0?n=!1:(s<0&&(s=0),0==e&&(l=s))}),n){f+="<li><a href='"+e+"' class='search-result-title'>"+r+"</a>";var c=t.content.trim().replace(/<[^>]+>/g,"");if(0<=l){var u=l-30,o=78;u<0&&(u=0),u+o>c.length&&(c.length<o?o=c.length-u:u=c.length-o);var h=c.substr(u,o);m.forEach(function(t){var e=new RegExp(t,"gi");h=h.replace(e,'<em class="search-keyword">'+t+"</em>")}),f+='<p class="search-result">'+h+"...</p>"}f+="</li>"}}),f+="</ul>",r.innerHTML=f)})}})}</script><style>#local-search-result{position:absolute;background-color:#fff;width:100%}#sidebar .widget .search-form{overflow:visible}#sidebar .widget .search-form input{width:auto}</style><script type="text/javascript">var search_path="search.xml";0==search_path.length&&(search_path="search.xml");var path="/"+search_path;searchFunc(path,"local-search-input","local-search-result")</script><script type="text/javascript" src="/js/copycode.js" successtext="复制成功!"></script><link rel="stylesheet" type="text/css" href="/css/copycode.css"><script src="//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js" async></script><script type="text/javascript">!function(r){"use strict";var i=function(i){this.$codeBlocks=r(i)};i.prototype={run:function(){var i=this;i.resize(),r(window).smartresize(function(){i.resize()})},resize:function(){this.$codeBlocks.each(function(){var i=r(this).find(".gutter"),t=r(this).find(".code"),n=t.width()-t.innerWidth(),e=r(this).outerWidth()-i.outerWidth()+n;t.css("width",e),t.children("pre").css("width",e)})}},r(document).ready(function(){r.fn.hasHorizontalScrollBar=function(){return this.get(0).scrollWidth>this.innerWidth()},new i("figure.highlight").run()})}(jQuery)</script><script type="text/javascript">!function(i,t){jQuery.fn[t]=function(i){return i?this.bind("resize",(e=i,function(){var i=this,t=arguments;n&&clearTimeout(n),n=setTimeout(function(){e.apply(i,t),n=null},100)})):this.trigger(t);var e,n}}(jQuery,"smartresize")</script><a class="show" id="rocket" href="#top"></a><script>$(window).scroll(function(){500<$(window).scrollTop()?$("#rocket").addClass("show"):$("#rocket").removeClass("show")}),$("#rocket").click(function(){return $("#rocket").addClass("launch"),$("html, body").animate({scrollTop:0},500,function(){$("#rocket").removeClass("show launch")}),!1})</script></div></body></html>